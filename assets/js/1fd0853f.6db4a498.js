"use strict";(self.webpackChunkkrateo_v_2_docs=self.webpackChunkkrateo_v_2_docs||[]).push([[472],{9944:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>a,contentTitle:()=>r,default:()=>h,frontMatter:()=>d,metadata:()=>o,toc:()=>c});var n=i(7624),s=i(2172);const d={description:"Simple Page Guide",sidebar_label:"Simple Page Guide"},r="Simple Page Guide",o={id:"how-to-guides/write-frontend/simple-page-guide",title:"Simple Page Guide",description:"Simple Page Guide",source:"@site/docs/30-how-to-guides/40-write-frontend/10-simple-page-guide.md",sourceDirName:"30-how-to-guides/40-write-frontend",slug:"/how-to-guides/write-frontend/simple-page-guide",permalink:"/how-to-guides/write-frontend/simple-page-guide",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:10,frontMatter:{description:"Simple Page Guide",sidebar_label:"Simple Page Guide"},sidebar:"tutorialSidebar",previous:{title:"Migrating from Crossplane Composition to Helm",permalink:"/how-to-guides/migrate-krateo/migrating-from-crossplane-composition-to-helm"},next:{title:"Action Button Guide",permalink:"/how-to-guides/write-frontend/action-button-guide"}},a={},c=[{value:"Creating a <code>Button</code> Widget",id:"creating-a-button-widget",level:2},{value:"Showing the <code>Button</code> Inside a <code>Page</code> Widget",id:"showing-the-button-inside-a-page-widget",level:2},{value:"Making the Page Reachable",id:"making-the-page-reachable",level:2},{value:"Creating a Sidebar Link",id:"creating-a-sidebar-link",level:3},{value:"Visiting the Page",id:"visiting-the-page",level:3},{value:"Recap",id:"recap",level:2},{value:"Testing the Declarative Nature of Widgets",id:"testing-the-declarative-nature-of-widgets",level:2},{value:"Next Steps",id:"next-steps",level:2}];function l(e){const t={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.M)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{id:"simple-page-guide",children:"Simple Page Guide"}),"\n",(0,n.jsx)(t.p,{children:"This guide walks you through the creation of a very simple page in the Krateo Composable Portal. By the end of the guide, you will have:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["a ",(0,n.jsx)(t.code,{children:"Button"})," widget"]}),"\n",(0,n.jsxs)(t.li,{children:["a ",(0,n.jsx)(t.code,{children:"Page"})," widget that acts as a container for the ",(0,n.jsx)(t.code,{children:"Button"})," widget"]}),"\n",(0,n.jsxs)(t.li,{children:["a navigation entry in the sidebar that links to the ",(0,n.jsx)(t.code,{children:"Page"})," widget"]}),"\n"]}),"\n",(0,n.jsxs)(t.blockquote,{children:["\n",(0,n.jsx)(t.p,{children:"[!NOTE]\nTo follow this guide, you need to run the Krateo frontend locally. This requires:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["a running Kubernetes cluster (for example, a local ",(0,n.jsx)(t.code,{children:"kind"})," cluster),"]}),"\n",(0,n.jsx)(t.li,{children:"the Krateo frontend codebase,"}),"\n",(0,n.jsx)(t.li,{children:"the ability to create and edit Kubernetes resources as YAML files."}),"\n"]}),"\n",(0,n.jsxs)(t.p,{children:["Refer to the ",(0,n.jsx)(t.a,{href:"https://github.com/krateoplatformops/frontend/blob/c52804d57a35ed7989d41d71461917b6d2898b43/README.md#running-locally",children:"installation guide"})," in the repository README for setup instructions."]}),"\n"]}),"\n",(0,n.jsxs)(t.h2,{id:"creating-a-button-widget",children:["Creating a ",(0,n.jsx)(t.code,{children:"Button"})," Widget"]}),"\n",(0,n.jsxs)(t.p,{children:["To create a ",(0,n.jsx)(t.code,{children:"Button"})," widget, you need to define it as a Kubernetes resource using a YAML file that follows the widget schema described in the ",(0,n.jsx)(t.a,{href:"/key-concepts/kcp/frontend-widget-api-reference",children:"Widgets API Reference"}),". Applying the resource will both create the widget and validate its configuration."]}),"\n",(0,n.jsxs)(t.p,{children:["As a starting point, create a pre-defined ",(0,n.jsx)(t.code,{children:"Button"})," widget by running:"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-sh",children:"kubectl apply -f docs/guides/simple-page/guide-simple-button.yaml\n"})}),"\n",(0,n.jsx)(t.p,{children:"To verify that the widget has been created successfully, run:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-sh",children:"kubectl get button -n simple-guide\n"})}),"\n",(0,n.jsxs)(t.h2,{id:"showing-the-button-inside-a-page-widget",children:["Showing the ",(0,n.jsx)(t.code,{children:"Button"})," Inside a ",(0,n.jsx)(t.code,{children:"Page"})," Widget"]}),"\n",(0,n.jsxs)(t.p,{children:["At this point, the ",(0,n.jsx)(t.code,{children:"Button"})," widget exists in the cluster, but it is not yet visible in the UI. Widgets become visible only when they are rendered by another visible widget."]}),"\n",(0,n.jsxs)(t.p,{children:["To display the button, we will create a ",(0,n.jsx)(t.code,{children:"Page"})," widget and reference the ",(0,n.jsx)(t.code,{children:"Button"})," widget from it:"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-sh",children:"kubectl apply -f https://raw.githubusercontent.com/krateoplatformops/frontend/6021fda511c9ee19db6cc694fbc9cc3d15c7da3c/docs/guides/simple-page/guide-simple-page.yaml\n"})}),"\n",(0,n.jsxs)(t.p,{children:["By inspecting the ",(0,n.jsxs)(t.a,{href:"https://raw.githubusercontent.com/krateoplatformops/frontend/6021fda511c9ee19db6cc694fbc9cc3d15c7da3c/docs/guides/simple-page/guide-simple-page.yaml",children:[(0,n.jsx)(t.code,{children:"Page"})," widget definition"]}),", you can see that the ",(0,n.jsx)(t.code,{children:"Button"})," widget is referenced by name inside ",(0,n.jsx)(t.code,{children:"spec.resourcesRefs"})," and assigned an identifier (",(0,n.jsx)(t.code,{children:"simple-button-id"}),")."]}),"\n",(0,n.jsxs)(t.p,{children:["Declaring resources in ",(0,n.jsx)(t.code,{children:"spec.resourcesRefs"})," is how Krateo knows which widgets to load. References can be defined statically, as in this example, or generated dynamically using ",(0,n.jsx)(t.code,{children:"resourcesRefsTemplate"})," (see the related section in the ",(0,n.jsx)(t.a,{href:"/key-concepts/kcp/frontend",children:"documentation"})," for more details)."]}),"\n",(0,n.jsx)(t.p,{children:"This referencing mechanism applies to all widgets and is the foundation of widget composition in Krateo."}),"\n",(0,n.jsx)(t.h2,{id:"making-the-page-reachable",children:"Making the Page Reachable"}),"\n",(0,n.jsxs)(t.p,{children:["Even though the ",(0,n.jsx)(t.code,{children:"Page"})," widget has been created, it is not yet accessible from the UI. Pages must be linked from the navigation menu to be reachable."]}),"\n",(0,n.jsx)(t.h3,{id:"creating-a-sidebar-link",children:"Creating a Sidebar Link"}),"\n",(0,n.jsxs)(t.p,{children:["To expose the page, create a ",(0,n.jsx)(t.code,{children:"NavMenuItem"})," widget:"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-sh",children:"kubectl apply -f docs/guides/simple-page/guide-simple-navmenuitem.yaml\n"})}),"\n",(0,n.jsxs)(t.p,{children:["The frontend logic will automatically create a sidebar entry to the newly created ",(0,n.jsx)(t.code,{children:"Page"})," widget, which will be visible after refreshing the UI."]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{src:"https://github.com/krateoplatformops/frontend/blob/c52804d57a35ed7989d41d71461917b6d2898b43/docs/guides/simple-page/images/sidebar-item.png?raw=true",alt:"Sidebar item"})}),"\n",(0,n.jsx)(t.h3,{id:"visiting-the-page",children:"Visiting the Page"}),"\n",(0,n.jsxs)(t.p,{children:["Clicking the new sidebar item navigates to the path defined in the ",(0,n.jsx)(t.code,{children:"NavMenuItem"})," widget, which in turn references the ",(0,n.jsx)(t.code,{children:"Page"})," widget. You should now see the ",(0,n.jsx)(t.code,{children:"Button"})," rendered on the page. For mocking purposes, clicking on the ",(0,n.jsx)(t.code,{children:"Button"})," widget should redirect you to the current page."]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{src:"https://github.com/krateoplatformops/frontend/blob/c52804d57a35ed7989d41d71461917b6d2898b43/docs/guides/simple-page/images/simple-guide-page.png?raw=true",alt:"Simple guide page"})}),"\n",(0,n.jsx)(t.h2,{id:"recap",children:"Recap"}),"\n",(0,n.jsx)(t.p,{children:"In this guide, we declaratively created the following widget hierarchy:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{children:"NavMenuItem \u2192 Page \u2192 Button\n"})}),"\n",(0,n.jsxs)(t.p,{children:["Widgets reference other widgets using ",(0,n.jsx)(t.code,{children:"spec.resourcesRefs"})," and render them by referring to the corresponding IDs inside ",(0,n.jsx)(t.code,{children:"spec.widgetData"}),"."]}),"\n",(0,n.jsx)(t.p,{children:"This composition model allows complex UIs to be built from small, reusable building blocks."}),"\n",(0,n.jsx)(t.h2,{id:"testing-the-declarative-nature-of-widgets",children:"Testing the Declarative Nature of Widgets"}),"\n",(0,n.jsxs)(t.p,{children:["To see the declarative model in action, try editing the ",(0,n.jsx)(t.code,{children:"spec.widgetData.label"})," field in either ",(0,n.jsx)(t.code,{children:"guide-simple-button.yaml"})," or ",(0,n.jsx)(t.code,{children:"guide-simple-navmenuitem.yaml"}),", then re-apply the resources:"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-sh",children:"kubectl apply -f https://raw.githubusercontent.com/krateoplatformops/frontend/6021fda511c9ee19db6cc694fbc9cc3d15c7da3c/docs/guides/simple-page/guide-simple-navmenuitem.yaml\nkubectl apply -f https://raw.githubusercontent.com/krateoplatformops/frontend/c52804d57a35ed7989d41d71461917b6d2898b43/docs/guides/simple-page/guide-simple-button.yaml\n"})}),"\n",(0,n.jsx)(t.p,{children:"After refreshing the UI, the changes will be immediately reflected."}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{src:"https://raw.githubusercontent.com/krateoplatformops/frontend/c52804d57a35ed7989d41d71461917b6d2898b43/docs/guides/simple-page/images/simple-guide-page-updated.png",alt:"Updated simple guide page"})}),"\n",(0,n.jsx)(t.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,n.jsxs)(t.p,{children:["A ",(0,n.jsx)(t.code,{children:"Button"})," widget that does nothing is not very useful. In the next guide, you will learn how to configure a ",(0,n.jsx)(t.code,{children:"Button"})," widget to trigger an action when clicked."]}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"Next:"})," ",(0,n.jsx)(t.a,{href:"/how-to-guides/write-frontend/action-button-guide",children:"Action Button"})]}),"\n",(0,n.jsxs)(t.p,{children:["A ",(0,n.jsx)(t.code,{children:"Button"})," that does nothing is not very useful, in the next guide we will see how to update the ",(0,n.jsx)(t.code,{children:"Button"})," to trigger an action on click."]}),"\n",(0,n.jsxs)(t.p,{children:["Next: ",(0,n.jsx)(t.a,{href:"/how-to-guides/write-frontend/action-button-guide",children:"Action button"})]})]})}function h(e={}){const{wrapper:t}={...(0,s.M)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}},2172:(e,t,i)=>{i.d(t,{I:()=>o,M:()=>r});var n=i(1504);const s={},d=n.createContext(s);function r(e){const t=n.useContext(d);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),n.createElement(d.Provider,{value:t},e.children)}}}]);