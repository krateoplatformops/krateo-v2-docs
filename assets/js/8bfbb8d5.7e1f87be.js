"use strict";(self.webpackChunkkrateo_v_2_docs=self.webpackChunkkrateo_v_2_docs||[]).push([[608],{9120:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>d,frontMatter:()=>r,metadata:()=>a,toc:()=>l});var o=i(7624),t=i(2172);const r={},s="core-provider",a={id:"key-concepts/kco/core-provider",title:"core-provider",description:"The core-provider is the first component of Krateo Composable Operations (KCO) and is vital to the Krateo PlatformOps product.",source:"@site/docs/20-key-concepts/10-kco/10-core-provider.md",sourceDirName:"20-key-concepts/10-kco",slug:"/key-concepts/kco/core-provider",permalink:"/key-concepts/kco/core-provider",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:10,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Overview",permalink:"/"},next:{title:"composition-dynamic-controller",permalink:"/key-concepts/kco/composition-dynamic-controller"}},c={},l=[{value:"Summary",id:"summary",level:2},{value:"Architecture",id:"architecture",level:3},{value:"Overview",id:"overview",level:3},{value:"Authentication",id:"authentication",level:4},{value:"RBAC Generation",id:"rbac-generation",level:4},{value:"Multi-Version Support",id:"multi-version-support",level:4},{value:"Composition Definition",id:"composition-definition",level:3},{value:"Examples",id:"examples",level:3},{value:"How to Install",id:"how-to-install",level:4},{value:"Apply the CompositionDefinition Manifest",id:"apply-the-compositiondefinition-manifest",level:4},{value:"Upgrade Chart Version",id:"upgrade-chart-version",level:3},{value:"Update the Fireworksapp Chart in the <code>CompositionDefinition</code>",id:"update-the-fireworksapp-chart-in-the-compositiondefinition",level:4},{value:"Automatic Deletion of Unused <code>composition-dynamic-controller</code> Deployments",id:"automatic-deletion-of-unused-composition-dynamic-controller-deployments",level:4},{value:"Multi-Version Management",id:"multi-version-management",level:3},{value:"Authentication",id:"authentication-1",level:3},{value:"OCI Registry",id:"oci-registry",level:4},{value:"Helm Repository",id:"helm-repository",level:4},{value:"Configuration",id:"configuration",level:3},{value:"Security Features",id:"security-features",level:4},{value:"Best Practices",id:"best-practices",level:4}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,t.M)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{id:"core-provider",children:"core-provider"}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.a,{href:"https://github.com/krateoplatformops/core-provider",children:"core-provider"})," is the first component of Krateo Composable Operations (KCO) and is vital to the Krateo PlatformOps product."]}),"\n",(0,o.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"#architecture",children:"Architecture"})}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"#overview",children:"Overview"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"#authentication",children:"Authentication"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"#rbac-generation",children:"RBAC Generation"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"#multi-version-support",children:"Multi-Version Support"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"#composition-definition",children:"Composition Definition"})}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"#examples",children:"Examples"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"#how-to-install",children:"How to Install"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"#apply-the-compositiondefinition-manifest",children:"Apply the CompositionDefinition Manifest"})}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"#upgrade-chart-version",children:"Upgrade Chart Version"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsxs)(n.a,{href:"#update-the-fireworksapp-chart-in-the-compositiondefinition",children:["Update the Fireworksapp Chart in the ",(0,o.jsx)(n.code,{children:"CompositionDefinition"})]})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsxs)(n.a,{href:"#automatic-deletion-of-unused-composition-dynamic-controller-deployments",children:["Automatic Deletion of Unused ",(0,o.jsx)(n.code,{children:"composition-dynamic-controller"})," Deployments"]})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"#multi-version-management",children:"Multi-Version Management"})}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"#authentication-1",children:"Authentication"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"#oci-registry",children:"OCI Registry"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"#helm-repository",children:"Helm Repository"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"#configuration",children:"Configuration"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"#security-features",children:"Security Features"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"#best-practices",children:"Best Practices"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"architecture",children:"Architecture"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"core-provider Architecture Image",src:i(8608).c+"",title:"core-provider Architecture",width:"945",height:"423"})}),"\n",(0,o.jsx)(n.p,{children:"Here's the updated Overview section with more details about authentication and RBAC generation:"}),"\n",(0,o.jsx)(n.h3,{id:"overview",children:"Overview"}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"core-provider"})," is a Kubernetes operator that downloads and manages Helm charts. It checks for the existence of ",(0,o.jsx)(n.code,{children:"values.schema.json"})," and uses it to generate a Custom Resource Definition (CRD) in Kubernetes, accurately representing the possible values that can be expressed for the installation of the chart."]}),"\n",(0,o.jsxs)(n.p,{children:["Kubernetes is designed to validate resource inputs before applying them to the cluster, and the ",(0,o.jsx)(n.code,{children:"core-provider"})," provides input validation to ensure that incorrect inputs are not accepted."]}),"\n",(0,o.jsx)(n.h4,{id:"authentication",children:"Authentication"}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"core-provider"})," also handles authentication to private OCI registries and Helm repositories. Users can provide their credentials through Kubernetes secrets, and the ",(0,o.jsx)(n.code,{children:"core-provider"})," will use them to download the necessary chart resources."]}),"\n",(0,o.jsx)(n.h4,{id:"rbac-generation",children:"RBAC Generation"}),"\n",(0,o.jsxs)(n.p,{children:["When the ",(0,o.jsx)(n.code,{children:"CompositionDefinition"})," manifest is applied to the cluster, the ",(0,o.jsx)(n.code,{children:"core-provider"})," not only generates the CRDs but also deploys an instance of the ",(0,o.jsx)(n.code,{children:"composition-dynamic-controller"}),". This controller is instructed to manage resources of the type defined by the CRD, and the deployment applies the most restrictive RBAC policy possible to ensure that the ",(0,o.jsx)(n.code,{children:"composition-dynamic-controller"})," instance can only manage the resources contained within the chart. Upon deleting the CR, the ",(0,o.jsx)(n.code,{children:"composition-dynamic-controller"})," instance is undeployed, and the RBAC policy is removed."]}),"\n",(0,o.jsx)(n.h4,{id:"multi-version-support",children:"Multi-Version Support"}),"\n",(0,o.jsx)(n.p,{children:"The core provider supports managing multiple versions of the same chart, including different values for each version. This feature addresses the common requirement of maintaining multiple versions of a composition."}),"\n",(0,o.jsx)(n.h3,{id:"composition-definition",children:"Composition Definition"}),"\n",(0,o.jsxs)(n.p,{children:["A Composition is a Helm Chart archive (.tgz) with a JSON Schema for the ",(0,o.jsx)(n.code,{children:"values.yaml"})," file. The JSON Schema file must be named ",(0,o.jsx)(n.code,{children:"values.schema.json"}),"."]}),"\n",(0,o.jsx)(n.p,{children:"Here are some online tools to generate and validate JSON Schemas:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://github.com/banshee86vr/helm-schema",children:"https://github.com/banshee86vr/helm-schema"})}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"examples",children:"Examples"}),"\n",(0,o.jsx)(n.h4,{id:"how-to-install",children:"How to Install"}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"core-provider"})," requires Krateo BFF to be installed in your cluster to perform some actions. If Krateo BFF is not already installed, you can install it with the following commands (note that it should be installed in the ",(0,o.jsx)(n.code,{children:"krateo-system"})," namespace):"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"helm repo add krateo https://charts.krateo.io\nhelm repo update\nhelm install bff krateo/bff --namespace krateo-system --create-namespace\n"})}),"\n",(0,o.jsxs)(n.p,{children:["After installing Krateo BFF, you can install the ",(0,o.jsx)(n.code,{children:"core-provider"})," with the following commands:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"helm repo add krateo https://charts.krateo.io\nhelm repo update\nhelm install krateo-core-provider krateo/core-provider --namespace krateo-system --create-namespace\n"})}),"\n",(0,o.jsx)(n.h4,{id:"apply-the-compositiondefinition-manifest",children:"Apply the CompositionDefinition Manifest"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:'apiVersion: core.krateo.io/v1alpha1\nkind: CompositionDefinition\nmetadata:\n  annotations:\n     "krateo.io/connector-verbose": "true"\n     "krateo.io/paused": "false"\n     "krateo.io/release-name": "my-composition-release"\n  name: postgresql\n  namespace: krateo-system\nspec:\n  chart:\n    url: oci://registry-1.docker.io/bitnamicharts/postgresql\n    version: "12.8.3"\n'})}),"\n",(0,o.jsxs)(n.p,{children:["When the ",(0,o.jsx)(n.code,{children:"CompositionDefinition"})," manifest is applied to the cluster, the ",(0,o.jsx)(n.code,{children:"core-provider"})," generates the CRDs from the schema defined in the ",(0,o.jsx)(n.code,{children:"values.schema.json"})," file included in the chart. It then deploys an instance of the ",(0,o.jsx)(n.a,{href:"https://github.com/krateoplatformops/composition-dynamic-controller",children:(0,o.jsx)(n.code,{children:"composition-dynamic-controller"})}),", instructing it to manage resources of the type defined by the CRD. The deployment applies the most restrictive RBAC policy possible, ensuring that the ",(0,o.jsx)(n.code,{children:"composition-dynamic-controller"})," instance can only manage the resources contained within the chart."]}),"\n",(0,o.jsxs)(n.p,{children:["Upon deleting the CR, the ",(0,o.jsx)(n.code,{children:"composition-dynamic-controller"})," instance is undeployed, and the RBAC policy is removed."]}),"\n",(0,o.jsx)(n.h3,{id:"upgrade-chart-version",children:"Upgrade Chart Version"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:'apiVersion: core.krateo.io/v1alpha1\nkind: CompositionDefinition\nmetadata:\n  annotations:\n    krateo.io/connector-verbose: "true"\n  name: fireworksapp-1-1-5\n  namespace: fireworksapp-system\nspec:\n  chart:\n    repo: fireworks-app\n    url: https://charts.krateo.io\n    version: 1.1.5\n'})}),"\n",(0,o.jsxs)(n.h4,{id:"update-the-fireworksapp-chart-in-the-compositiondefinition",children:["Update the Fireworksapp Chart in the ",(0,o.jsx)(n.code,{children:"CompositionDefinition"})]}),"\n",(0,o.jsxs)(n.p,{children:["The requirement for this step is that the ",(0,o.jsx)(n.code,{children:"values.schem.json"})," cointained in the chart should not change between versions of the chart. If your ",(0,o.jsx)(n.code,{children:"values.schem.json"})," go to section ",(0,o.jsx)(n.a,{href:"#multi-version-management",children:"Multi version Management"}),"."]}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"To update them chart version of existing CompositionDefinition called fireworksapp-1-1-5 in the fireworksapp-system namespace to change the spec.chart.version to 1.1.6:"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'kubectl patch compositiondefinition fireworksapp-1-1-5 -n fireworksapp-system --type=merge -p \'{"spec":{"chart":{"version":"1.1.6"}}}\'\n'})}),"\n",(0,o.jsxs)(n.ol,{start:"2",children:["\n",(0,o.jsxs)(n.li,{children:["Wait for the ",(0,o.jsx)(n.code,{children:"fireworksapp-1-1-5"})," CompositionDefinition to be in the ",(0,o.jsx)(n.code,{children:"Ready=True"})," condition in the ",(0,o.jsx)(n.code,{children:"fireworksapp-system"})," namespace:"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"kubectl wait compositiondefinition fireworksapp-1-1-5 --for condition=Ready=True --namespace fireworksapp-system\n"})}),"\n",(0,o.jsxs)(n.ol,{start:"3",children:["\n",(0,o.jsxs)(n.li,{children:["Inspect the CustomResourceDefinition ",(0,o.jsx)(n.code,{children:"fireworksapps.composition.krateo.io"})," to see the added version:"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"kubectl get crd fireworksapps.composition.krateo.io -o yaml\n"})}),"\n",(0,o.jsxs)(n.ol,{start:"4",children:["\n",(0,o.jsxs)(n.li,{children:["Check if the ",(0,o.jsx)(n.code,{children:"fireworksapps-v1-1-6-controller"})," deployment to be ready in the ",(0,o.jsx)(n.code,{children:"fireworksapp-system"})," namespace:"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"kubectl wait deployment fireworksapps-v1-1-6-controller --namespace fireworksapp-system --for condition=Available=True\n"})}),"\n",(0,o.jsxs)(n.ol,{start:"5",children:["\n",(0,o.jsx)(n.li,{children:"Check that the previously installed chart have the expected version:"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"helm list -n fireworksapp-system\n"})}),"\n",(0,o.jsxs)(n.p,{children:["This procedure update the existing fireworksapp installations to use the new version ",(0,o.jsx)(n.code,{children:"1.1.6"})," of the chart, since the ",(0,o.jsx)(n.code,{children:"values.schema.json"})," does not change between the two versions."]}),"\n",(0,o.jsxs)(n.h4,{id:"automatic-deletion-of-unused-composition-dynamic-controller-deployments",children:["Automatic Deletion of Unused ",(0,o.jsx)(n.code,{children:"composition-dynamic-controller"})," Deployments"]}),"\n",(0,o.jsxs)(n.p,{children:["Notice that the previously deployed instances (pods) of ",(0,o.jsx)(n.code,{children:"composition-dynamic-controller"})," that were configured to manage resources of version 1.1.5 no longer exist in the cluster."]}),"\n",(0,o.jsx)(n.p,{children:"This is due to the automatic cleanup mechanism that removes older and unused deployments along with their associated RBAC resources from the cluster:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"kubectl get po -n fireworksapp-system\n"})}),"\n",(0,o.jsx)(n.p,{children:"This automatic cleanup helps maintain cluster cleaniness by removing outdated controller instances when they are no longer needed."}),"\n",(0,o.jsx)(n.h3,{id:"multi-version-management",children:"Multi-Version Management"}),"\n",(0,o.jsx)(n.p,{children:"The core provider now supports managing multiple versions of the same composition."}),"\n",(0,o.jsx)(n.p,{children:"To perform a version upgrade or rollback:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Pause the current version:\nAdd the ",(0,o.jsx)(n.code,{children:'"krateo.io/paused": "true"'})," annotation to the CompositionDefinition for the current version."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Install the new version:\nCreate a new CompositionDefinition for the new version without the ",(0,o.jsx)(n.code,{children:"krateo.io/paused"})," annotation or set it to ",(0,o.jsx)(n.code,{children:'"false"'}),".\nInclude the ",(0,o.jsx)(n.code,{children:'"krateo.io/release-name": "my-composition-release"'})," annotation, using the same name as the release for the previous version. This ensures that the upgrade is performed correctly."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["Note: If omitted, the CDC will use the composition's ",(0,o.jsx)(n.code,{children:"metadata.name"})," as the release name."]}),"\n",(0,o.jsx)(n.p,{children:"This process allows for seamless upgrades and rollbacks between different versions of the same composition, maintaining consistency in release names and ensuring proper management of multiple versions."}),"\n",(0,o.jsx)(n.h3,{id:"authentication-1",children:"Authentication"}),"\n",(0,o.jsx)(n.h4,{id:"oci-registry",children:"OCI Registry"}),"\n",(0,o.jsx)(n.p,{children:"Create the Kubernetes secret:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"kubectl create secret generic docker-hub --from-literal=token=your_token -n krateo-system\n"})}),"\n",(0,o.jsx)(n.p,{children:"Apply the Manifest:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:'apiVersion: core.krateo.io/v1alpha1\nkind: CompositionDefinition\nmetadata:\n  annotations:\n     "krateo.io/connector-verbose": "true"\n  name: fireworks-private\n  namespace: krateo-system\nspec:\n  chart:\n    url: oci://registry-1.docker.io/yourusername/fireworks-app\n    version: "0.1.0"\n    credentials:\n      username: yourusername\n      passwordRef:\n        key: token\n        name: docker-hub\n        namespace: krateo-system\n'})}),"\n",(0,o.jsx)(n.h4,{id:"helm-repository",children:"Helm Repository"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"kubectl create secret generic helm-repo --from-literal=token=your_token -n krateo-system\n"})}),"\n",(0,o.jsx)(n.p,{children:"Apply the Manifest:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:'apiVersion: core.krateo.io/v1alpha1\nkind: CompositionDefinition\nmetadata:\n  annotations:\n     "krateo.io/connector-verbose": "true"\n  name: fireworks-private\n  namespace: krateo-system\nspec:\n  chart:\n    repo: fireworks-app\n    url: https://theurltoyourhelmrepo\n    version: 0.3.0\n    credentials:\n      username: yourusername\n      passwordRef:\n        key: token\n        name: helm-repo\n        namespace: krateo-system\n'})}),"\n",(0,o.jsx)(n.h3,{id:"configuration",children:"Configuration"}),"\n",(0,o.jsxs)(n.p,{children:["To view the CRD configuration, visit ",(0,o.jsx)(n.a,{href:"https://doc.crds.dev/github.com/krateoplatformops/core-provider",children:"this link"}),"."]}),"\n",(0,o.jsx)(n.h4,{id:"security-features",children:"Security Features"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Generates CRDs based on the chart's schema, preventing invalid configurations"}),"\n",(0,o.jsxs)(n.li,{children:["Deploys ",(0,o.jsx)(n.code,{children:"composition-dynamic-controller"})," with minimal necessary permissions"]}),"\n",(0,o.jsx)(n.li,{children:"Removes RBAC policies upon deletion of the CR"}),"\n",(0,o.jsx)(n.li,{children:"Implements mutating webhook and conversion webhook for enhanced security and flexibility"}),"\n"]}),"\n",(0,o.jsx)(n.h4,{id:"best-practices",children:"Best Practices"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["Always include a ",(0,o.jsx)(n.code,{children:"values.schema.json"})," file in your Helm charts"]}),"\n",(0,o.jsxs)(n.li,{children:["Use the ",(0,o.jsx)(n.code,{children:"krateo.io/paused"})," annotation to manage composition lifecycle"]}),"\n",(0,o.jsxs)(n.li,{children:["Utilize the ",(0,o.jsx)(n.code,{children:"krateo.io/release-name"})," annotation for consistent naming across versions"]}),"\n",(0,o.jsx)(n.li,{children:"Leverage the multi-version support for smooth upgrades and rollbacks"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"By implementing these improvements and best practices, the Krateo Core Provider offers enhanced flexibility, security, and version management capabilities for Kubernetes-based applications."})]})}function d(e={}){const{wrapper:n}={...(0,t.M)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}},8608:(e,n,i)=>{i.d(n,{c:()=>o});const o=i.p+"assets/images/core-provider-4c17b6d7a019998d416b948238b8719c.png"},2172:(e,n,i)=>{i.d(n,{I:()=>a,M:()=>s});var o=i(1504);const t={},r=o.createContext(t);function s(e){const n=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),o.createElement(r.Provider,{value:n},e.children)}}}]);