"use strict";(self.webpackChunkkrateo_v_2_docs=self.webpackChunkkrateo_v_2_docs||[]).push([[608],{9120:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>l,toc:()=>a});var r=t(7624),s=t(2172);const i={},o="Krateo Core Provider",l={id:"key-concepts/kco/core-provider",title:"Krateo Core Provider",description:"The Krateo Core Provider is the foundational component of Krateo Composable Operations (KCO), enabling the management of Helm charts as Kubernetes-native resources. It provides:",source:"@site/docs/20-key-concepts/10-kco/10-core-provider.md",sourceDirName:"20-key-concepts/10-kco",slug:"/key-concepts/kco/core-provider",permalink:"/key-concepts/kco/core-provider",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:10,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Overview",permalink:"/"},next:{title:"cheatsheet",permalink:"/key-concepts/kco/cheatsheet"}},c={},a=[{value:"Summary",id:"summary",level:2},{value:"Glossary",id:"glossary",level:2},{value:"Architecture",id:"architecture",level:2},{value:"Workflow",id:"workflow",level:2},{value:"Requirements",id:"requirements",level:2},{value:"CompositionDefinition specifications and examples",id:"compositiondefinition-specifications-and-examples",level:2},{value:"Authentication",id:"authentication",level:3},{value:"OCI Registry",id:"oci-registry",level:4},{value:"GCP Artifact Registry",id:"gcp-artifact-registry",level:5},{value:"Helm Repository",id:"helm-repository",level:4},{value:"Composition Definition",id:"composition-definition",level:3},{value:"CRD Specification",id:"crd-specification",level:4},{value:"How to Install",id:"how-to-install",level:2},{value:"Examples and Troubleshooting",id:"examples-and-troubleshooting",level:2},{value:"Environment Variables and Flags",id:"environment-variables-and-flags",level:2},{value:"Security Features",id:"security-features",level:2},{value:"Best Practices",id:"best-practices",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.M)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"krateo-core-provider",children:"Krateo Core Provider"}),"\n",(0,r.jsx)(n.p,{children:"The Krateo Core Provider is the foundational component of Krateo Composable Operations (KCO), enabling the management of Helm charts as Kubernetes-native resources. It provides:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Schema validation through JSON Schema"}),"\n",(0,r.jsx)(n.li,{children:"Automated CRD generation"}),"\n",(0,r.jsx)(n.li,{children:"Versioned composition management"}),"\n",(0,r.jsx)(n.li,{children:"Secure authentication mechanisms"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#summary",children:"Summary"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#glossary",children:"Glossary"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#architecture",children:"Architecture"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#workflow",children:"Workflow"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#requirements",children:"Requirements"})}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"#compositiondefinition-specifications-and-examples",children:"CompositionDefinition specifications and examples"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"#authentication",children:"Authentication"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"#oci-registry",children:"OCI Registry"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#gcp-artifact-registry",children:"GCP Artifact Registry"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#helm-repository",children:"Helm Repository"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"#composition-definition",children:"Composition Definition"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#crd-specification",children:"CRD Specification"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#how-to-install",children:"How to Install"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#examples-and-troubleshooting",children:"Examples and Troubleshooting"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#environment-variables-and-flags",children:"Environment Variables and Flags"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#security-features",children:"Security Features"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#best-practices",children:"Best Practices"})}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"glossary",children:"Glossary"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"CRD (Custom Resource Definition):"})," A Kubernetes resource that defines custom objects and their schemas, enabling users to extend Kubernetes functionality."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"CompositionDefinition:"})," A custom resource in the ",(0,r.jsx)(n.code,{children:"core-provider"})," that defines how Helm charts are managed and deployed in Kubernetes."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"CDC (Composition Dynamic Controller):"})," A controller deployed by the ",(0,r.jsx)(n.code,{children:"core-provider"})," to manage resources defined by a ",(0,r.jsx)(n.code,{children:"CompositionDefinition"}),". This controller is responsible to create, update, and delete helm releases and their associated resources based on the values defined in the ",(0,r.jsx)(n.code,{children:"composition"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Helm Chart:"})," A package of pre-configured Kubernetes resources used to deploy applications."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"OCI Registry:"})," A container registry that supports the Open Container Initiative (OCI) image format, used for storing and distributing Helm charts."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"RBAC Policy:"})," A set of rules that define permissions for accessing Kubernetes resources. Typically composed of roles, role bindings, cluster roles, and cluster role bindings assigned to service accounts."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"values.schema.json:"})," A JSON Schema file included in Helm charts to define and validate the structure of ",(0,r.jsx)(n.code,{children:"values.yaml"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"architecture",children:"Architecture"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"core-provider Architecture Image",src:t(8608).c+"",title:"core-provider Architecture",width:"1182",height:"519"})}),"\n",(0,r.jsx)(n.p,{children:"This diagram outlines the high-level architecture and interactions within the Core Provider, responsible for managing CompositionDefinitions and related resources. It illustrates the relationships between key components such as the Core Provider itself, the Composition Dynamic Controller (CDC), the Chart Inspector, and various Kubernetes resources."}),"\n",(0,r.jsx)(n.p,{children:"The Core Provider generates CRDs, creates RBAC policies, and deploys the CDC. The CDC manages Helm chart releases, requests resource information from the Chart Inspector, and generates RBAC policies based on those resources. The diagram highlights the flow of definitions and resources between these components, showcasing how the Core Provider orchestrates the deployment and management of composed applications within a Kubernetes cluster."}),"\n",(0,r.jsx)(n.h2,{id:"workflow",children:"Workflow"}),"\n",(0,r.jsx)(n.p,{children:'![core-provider State Diagram]((/img/core-provider-flow.png "core-provider State Diagram")'}),"\n",(0,r.jsx)(n.p,{children:"This diagram illustrates the Core Provider's workflow for managing CompositionDefinitions, which define how resources are composed and managed in a Kubernetes environment. It encompasses the lifecycle of Helm releases and associated resources, involving the creation and updating of CRDs (Custom Resource Definitions), RBAC (Role-Based Access Control), and CDC (Composition Dynamic Controller) deployments. These actions are conditional, based on chart versions and the current state of the cluster."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Note:"})," The ",(0,r.jsx)(n.code,{children:"kubectl"})," commands within the notes serve as illustrative examples of the operations performed by the Core Provider and are not intended for direct user execution. They provide insights into the resource management processes undertaken by the system."]}),"\n",(0,r.jsx)(n.h2,{id:"requirements",children:"Requirements"}),"\n",(0,r.jsx)(n.p,{children:"The core-provider does not requires Snowplow anymore to be installed in the cluster. The core-provider is now able to retrieve resource plurals from the cluster without Snowplow. This change was introduced in version 0.24.2 of the core-provider."}),"\n",(0,r.jsx)(n.h2,{id:"compositiondefinition-specifications-and-examples",children:"CompositionDefinition specifications and examples"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"core-provider"})," is a Kubernetes operator that downloads and manages Helm charts. It checks for the existence of ",(0,r.jsx)(n.code,{children:"values.schema.json"})," and uses it to generate a Custom Resource Definition (CRD) in Kubernetes, accurately representing the possible values that can be expressed for the installation of the chart."]}),"\n",(0,r.jsxs)(n.p,{children:["Kubernetes is designed to validate resource inputs before applying them to the cluster, and the ",(0,r.jsx)(n.code,{children:"core-provider"})," provides input validation to ensure that incorrect inputs are not accepted."]}),"\n",(0,r.jsx)(n.h3,{id:"authentication",children:"Authentication"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"core-provider"})," also handles authentication to private OCI registries and Helm repositories. Users can provide their credentials through Kubernetes secrets, and the ",(0,r.jsx)(n.code,{children:"core-provider"})," will use them to download the necessary chart resources."]}),"\n",(0,r.jsx)(n.h4,{id:"oci-registry",children:"OCI Registry"}),"\n",(0,r.jsx)(n.p,{children:"Create the Kubernetes secret:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"kubectl create secret generic docker-hub --from-literal=token=your_token -n krateo-system\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'apiVersion: core.krateo.io/v1alpha1\nkind: CompositionDefinition\nmetadata:\n  annotations:\n     "krateo.io/connector-verbose": "true"\n  name: fireworks-private\n  namespace: krateo-system\nspec:\n  chart:\n    url: oci://registry-1.docker.io/yourusername/fireworks-app\n    version: "0.1.0"\n    credentials:\n      username: yourusername\n      passwordRef:\n        key: token\n        name: docker-hub\n        namespace: krateo-system\n'})}),"\n",(0,r.jsx)(n.h5,{id:"gcp-artifact-registry",children:"GCP Artifact Registry"}),"\n",(0,r.jsxs)(n.p,{children:["Follow ",(0,r.jsx)(n.a,{href:"https://cloud.google.com/iam/docs/keys-create-delete",children:"this guide"})," to create a service account key. You will need to download the .json file containing the key and create the Kubernetes secret from it. Note that the service account should have permissions to download from the Google Artifact Registry."]}),"\n",(0,r.jsx)(n.p,{children:"Now, create a secret from the JSON file containing your service account key:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"kubectl create secret generic gcp-sa-secret -n demo \\\n --from-file=secret-access-credentials=/path/to/file/krateoregistry-3d546566ae4a.json\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'apiVersion: core.krateo.io/v1alpha1\nkind: CompositionDefinition\nmetadata:\n  name: fireworks-private\n  namespace: krateo-system\nspec:\n  chart:\n    url: oci://europe-west12-docker.pkg.dev/krateoregistry/krateotest/fireworks-app\n    version: "0.0.1"\n    credentials:\n      username: json_key\n      passwordRef: # reference to a secret\n        key: secret-access-credentials\n        name: gcp-sa-secret\n        namespace: demo\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Note:"})," The ",(0,r.jsx)(n.code,{children:"spec.chart.credentials.username"})," should be set to ",(0,r.jsx)(n.code,{children:"json_key"})," as explained in ",(0,r.jsx)(n.a,{href:"https://cloud.google.com/artifact-registry/docs/helm/authentication#linux-macos_1",children:"this documentation"}),"."]}),"\n",(0,r.jsx)(n.h4,{id:"helm-repository",children:"Helm Repository"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"kubectl create secret generic helm-repo --from-literal=token=your_token -n krateo-system\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'apiVersion: core.krateo.io/v1alpha1\nkind: CompositionDefinition\nmetadata:\n  annotations:\n     "krateo.io/connector-verbose": "true"\n  name: fireworks-private\n  namespace: krateo-system\nspec:\n  chart:\n    repo: fireworks-app\n    url: https://theurltoyourhelmrepo\n    version: 0.3.0\n    credentials:\n      username: yourusername\n      passwordRef:\n        key: token\n        name: helm-repo\n        namespace: krateo-system\n'})}),"\n",(0,r.jsx)(n.h3,{id:"composition-definition",children:"Composition Definition"}),"\n",(0,r.jsxs)(n.p,{children:["A Composition is a Helm Chart archive (.tgz) with a JSON Schema for the ",(0,r.jsx)(n.code,{children:"values.yaml"})," file. The JSON Schema file must be named ",(0,r.jsx)(n.code,{children:"values.schema.json"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"Here are some online tools to generate and validate JSON Schemas:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://jsonformatter.org/yaml-to-jsonschema",children:"https://jsonformatter.org/yaml-to-jsonschema"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://codebeautify.org/yaml-to-json-schema-generator",children:"https://codebeautify.org/yaml-to-json-schema-generator"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://www.jsonschemavalidator.net/",children:"https://www.jsonschemavalidator.net/"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://json-schema.hyperjump.io/",children:"https://json-schema.hyperjump.io/"})}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"crd-specification",children:"CRD Specification"}),"\n",(0,r.jsxs)(n.p,{children:["To view the CRD configuration, visit ",(0,r.jsx)(n.a,{href:"https://doc.crds.dev/github.com/krateoplatformops/core-provider",children:"this link"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"how-to-install",children:"How to Install"}),"\n",(0,r.jsxs)(n.p,{children:["You can install the ",(0,r.jsx)(n.code,{children:"core-provider"})," with the following commands:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"helm repo add krateo https://charts.krateo.io\nhelm repo update\nhelm install krateo-core-provider krateo/core-provider --namespace krateo-system --create-namespace\n"})}),"\n",(0,r.jsx)(n.h2,{id:"examples-and-troubleshooting",children:"Examples and Troubleshooting"}),"\n",(0,r.jsxs)(n.p,{children:["You can see a more practical guide on ",(0,r.jsx)(n.code,{children:"core-provider"})," usage at ",(0,r.jsx)(n.a,{href:"/key-concepts/kco/cheatsheet",children:"this link"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"environment-variables-and-flags",children:"Environment Variables and Flags"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Name"}),(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Description"}),(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Default Value"}),(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Notes"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"HELM_REGISTRY_CONFIG_PATH"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"Path to Helm registry configuration file"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"/tmp/.config/helm/registry/config.json"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"Used for OCI registries"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"CORE_PROVIDER_DEBUG"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"Enables debug logging"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"false"})}),(0,r.jsxs)(n.td,{style:{textAlign:"left"},children:["Use ",(0,r.jsx)(n.code,{children:"--debug"})," flag"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"CORE_PROVIDER_SYNC"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"Sync period for controller manager"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"1h"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"Duration"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"CORE_PROVIDER_POLL_INTERVAL"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"Poll interval for resource drift checks"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"5m"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"Duration"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"CORE_PROVIDER_MAX_RECONCILE_RATE"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"Maximum reconcile rate per second"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"3"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"Integer"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"CORE_PROVIDER_LEADER_ELECTION"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"Enables leader election for controller manager"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"false"})}),(0,r.jsxs)(n.td,{style:{textAlign:"left"},children:["Use ",(0,r.jsx)(n.code,{children:"--leader-election"})," flag"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"CORE_PROVIDER_MAX_ERROR_RETRY_INTERVAL"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"Maximum retry interval on errors"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"1m"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"Duration"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"CORE_PROVIDER_MIN_ERROR_RETRY_INTERVAL"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"Minimum retry interval on errors"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"1s"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"Duration"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"URL_PLURALS"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"NOT USED from version 0.24.2 - URL to krateo pluraliser service"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"http://snowplow.krateo-system.svc.cluster.local:8081/api-info/names"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"String"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"security-features",children:"Security Features"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Generates CRDs based on the chart's schema, preventing invalid configurations"}),"\n",(0,r.jsxs)(n.li,{children:["Deploys ",(0,r.jsx)(n.code,{children:"composition-dynamic-controller"})," with minimal necessary permissions"]}),"\n",(0,r.jsx)(n.li,{children:"Removes RBAC policies upon deletion of the CR"}),"\n",(0,r.jsx)(n.li,{children:"Implements mutating webhook and conversion webhook for enhanced security and flexibility"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Always include a ",(0,r.jsx)(n.code,{children:"values.schema.json"})," file in your Helm charts"]}),"\n",(0,r.jsxs)(n.li,{children:["Use the ",(0,r.jsx)(n.code,{children:"krateo.io/paused"})," annotation to manage composition lifecycle"]}),"\n",(0,r.jsx)(n.li,{children:"Leverage the multi-version support for smooth upgrades and rollbacks"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"By implementing these improvements and best practices, the Krateo Core Provider offers enhanced flexibility, security, and version management capabilities for Kubernetes-based applications."})]})}function h(e={}){const{wrapper:n}={...(0,s.M)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8608:(e,n,t)=>{t.d(n,{c:()=>r});const r=t.p+"assets/images/core-provider-6d4570e407dfb8332297dddb9c481c4a.png"},2172:(e,n,t)=>{t.d(n,{I:()=>l,M:()=>o});var r=t(1504);const s={},i=r.createContext(s);function o(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);