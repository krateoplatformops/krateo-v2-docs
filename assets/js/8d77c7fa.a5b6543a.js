"use strict";(self.webpackChunkkrateo_v_2_docs=self.webpackChunkkrateo_v_2_docs||[]).push([[904],{5284:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>a,metadata:()=>r,toc:()=>c});var s=t(7624),o=t(2172);const a={},i="Krateo Composable Portal components",r={id:"key-concepts/portal-components/components",title:"Krateo Composable Portal components",description:"Krateo PlatformOps leverages a declarative approach to design components in Krateo Composable Portal. These components are divided into two groups:",source:"@site/docs/20-key-concepts/25-portal-components/10-components.md",sourceDirName:"20-key-concepts/25-portal-components",slug:"/key-concepts/portal-components/components",permalink:"/key-concepts/portal-components/components",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:10,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"authn",permalink:"/key-concepts/kcp/authn"},next:{title:"finops-operator-exporter",permalink:"/key-concepts/kcf/finops-operator-exporter"}},l={},c=[{value:"Collections",id:"collections",level:2},{value:"Collection",id:"collection",level:3},{value:"CollectionIterator",id:"collectioniterator",level:3},{value:"Types",id:"types",level:3},{value:"Row",id:"row",level:4},{value:"Column",id:"column",level:4},{value:"Grid",id:"grid",level:4},{value:"Tablist",id:"tablist",level:4},{value:"TabPane",id:"tabpane",level:4},{value:"Panel",id:"panel",level:4},{value:"Widgets",id:"widgets",level:2},{value:"Widget",id:"widget",level:3},{value:"Form",id:"form",level:3},{value:"CustomForm",id:"customform",level:3}];function p(e){const n={blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.M)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"krateo-composable-portal-components",children:"Krateo Composable Portal components"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.em,{children:"Krateo PlatformOps"})," leverages a declarative approach to design components in ",(0,s.jsx)(n.em,{children:"Krateo Composable Portal"}),". These components are divided into two groups:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Collections: layout components that can contain other layouts and/or widgets"}),"\n",(0,s.jsx)(n.li,{children:"Widgets: graphical elements that can be feeded via API"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Each ",(0,s.jsx)(n.em,{children:"Collection"})," contains a reference to other objects, building a dependency structure that is resolved by the backend. At each node of the structure, the backend analyzes if the authenticated user can retrieve that node."]}),"\n",(0,s.jsx)(n.p,{children:"References can be built iterating on an API response which can be a Kubernetes API or any other external API. Whenever the API request is related to a Kubernetes API, the backend propagates the authenticated user."}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Every component is namespace-scoped."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"collections",children:"Collections"}),"\n",(0,s.jsxs)(n.p,{children:["A ",(0,s.jsx)(n.em,{children:"Collection"})," is a layout component. In ",(0,s.jsx)(n.em,{children:"Krateo PlatformOps"})," we provide two kinds of ",(0,s.jsx)(n.em,{children:"Collections"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Kind: Collections"}),": contains a static list of references to other ",(0,s.jsx)(n.em,{children:"Collections"})," or ",(0,s.jsx)(n.em,{children:"Widgets"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Kind: CollectionIterators"}),": contains a dynamic list of references to other ",(0,s.jsx)(n.em,{children:"Collections"})," or ",(0,s.jsx)(n.em,{children:"Widgets"})," which can be created iterating on an API response."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"collection",children:"Collection"}),"\n",(0,s.jsx)(n.p,{children:"This is the manifest of a Collection:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"apiVersion: templates.krateo.io/v1alpha1\nkind: Collection\nmetadata:\n  name: templates-column\n  namespace: krateo-system\nspec:\n  type: column\n  propsRef:\n    name: templates-column\n    namespace: krateo-system\nwidgetsRefs:\n  - apiVersion: templates.krateo.io/v1alpha1\n    resource: collections\n    name: templates-column-row\n    namespace: krateo-system\n  - apiVersion: templates.krateo.io/v1alpha1\n    resource: collectioniterators\n    name: compositions-column\n    namespace: krateo-system\n  - apiVersion: templates.krateo.io/v1alpha1\n    resource: widgets\n    name: compositiondefinition-card\n    namespace: krateo-system\n"})}),"\n",(0,s.jsx)(n.p,{children:"The main structure is based on the following properties:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Property"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"type"}),(0,s.jsxs)(n.td,{children:["Identifies the layout to leverage: it can be a ",(0,s.jsx)(n.em,{children:"row"}),", a ",(0,s.jsx)(n.em,{children:"column"})," or a ",(0,s.jsx)(n.em,{children:"grid"})]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"propsRef"}),(0,s.jsx)(n.td,{children:"Reference to a ConfigMap that contains properties that are not shown in the component"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"widgetsRefs"}),(0,s.jsxs)(n.td,{children:["Array of components references that will fill the component layout: each array element must specify ",(0,s.jsx)(n.em,{children:"apiVersion"}),", ",(0,s.jsx)(n.em,{children:"resource"}),", ",(0,s.jsx)(n.em,{children:"name"})," and ",(0,s.jsx)(n.em,{children:"namespace"})," of the element to include in the component"]})]})]})]}),"\n",(0,s.jsxs)(n.p,{children:["Based on the ",(0,s.jsx)(n.em,{children:"spec.type"})," value, different ",(0,s.jsx)(n.em,{children:"spec.propsRef"})," can be explicited."]}),"\n",(0,s.jsx)(n.h3,{id:"collectioniterator",children:"CollectionIterator"}),"\n",(0,s.jsx)(n.p,{children:"This is the manifest of a CollectionIterator:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:'apiVersion: templates.krateo.io/v1alpha1\nkind: CollectionIterator\nmetadata:\n  name: compositiondefinitions-grid\n  namespace: krateo-system\nspec:\n  type: grid\n  propsRef:\n    name: compositiondefinitions-grid\n    namespace: krateo-system\n  widgetsRefs:\n  - iterator: .allCompositionDefinitions.items\n    template:\n      apiVersion: templates.krateo.io/v1alpha1\n      resource: widgets\n      name: ${ "template-" + .metadata.name + "-card" }\n      namespace: ${ .metadata.namespace }\n  api:\n  - name: allCompositionDefinitions\n    path: "/list?category=defs"\n    verb: GET\n    endpointRef:\n      name: bff-endpoint\n      namespace: krateo-system\n    headers:\n    - \'Accept: application/json\'\n'})}),"\n",(0,s.jsx)(n.p,{children:"The main structure is based on the following properties:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Property"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"type"}),(0,s.jsxs)(n.td,{children:["Identifies the layout to leverage: it can be a ",(0,s.jsx)(n.em,{children:"row"}),", ",(0,s.jsx)(n.em,{children:"column"}),", ",(0,s.jsx)(n.em,{children:"grid"}),", ",(0,s.jsx)(n.em,{children:"tablist"})," or ",(0,s.jsx)(n.em,{children:"tabpane"})]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"propsRef"}),(0,s.jsx)(n.td,{children:"Reference to a ConfigMap that contains properties that are not shown in the component"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"widgetsRefs"}),(0,s.jsx)(n.td,{children:"Array of components references that will fill the component layout"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"! api"}),(0,s.jsxs)(n.td,{children:["API to call in order to feed ",(0,s.jsx)(n.em,{children:"widgetsRefs.iterator"})]})]})]})]}),"\n",(0,s.jsxs)(n.p,{children:["Based on the ",(0,s.jsx)(n.em,{children:"spec.type"})," value, different ",(0,s.jsx)(n.em,{children:"spec.propsRef"})," can be explicited."]}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.em,{children:"widgetsRefs"})," array is able to iterate on the API response and can replace placeholders in values obtained from the single response element on which the iteration is looping."]}),"\n",(0,s.jsx)(n.h3,{id:"types",children:"Types"}),"\n",(0,s.jsxs)(n.p,{children:["Regardless if the layout component is a ",(0,s.jsx)(n.em,{children:"Collection"})," or ",(0,s.jsx)(n.em,{children:"CollectionIterator"}),", different types can be adopted."]}),"\n",(0,s.jsx)(n.h4,{id:"row",children:"Row"}),"\n",(0,s.jsxs)(n.p,{children:["This is the manifest of a Collection of ",(0,s.jsx)(n.em,{children:"spec.type=row"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"apiVersion: templates.krateo.io/v1alpha1\nkind: Collection\nmetadata:\n  name: templates-row\n  namespace: krateo-system\nspec:\n  type: row\n  widgetsRefs:\n  - apiVersion: templates.krateo.io/v1alpha1\n    resource: collections\n    name: templates-row-column\n    namespace: krateo-system\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Type ",(0,s.jsx)(n.em,{children:"row"})," doesn't have any ",(0,s.jsx)(n.em,{children:"propsRef"}),"."]}),"\n",(0,s.jsx)(n.h4,{id:"column",children:"Column"}),"\n",(0,s.jsxs)(n.p,{children:["This is the manifest of a Collection of ",(0,s.jsx)(n.em,{children:"spec.type=column"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:'kind: ConfigMap\napiVersion: v1\nmetadata:\n  name: templates-row-column\n  namespace: krateo-system\ndata:\n  width: "24"\n---\napiVersion: templates.krateo.io/v1alpha1\nkind: Collection\nmetadata:\n  name: templates-row-column\n  namespace: krateo-system\nspec:\n  type: column\n  propsRef:\n    name: templates-row-column\n    namespace: krateo-system\n  widgetsRefs:\n  - apiVersion: templates.krateo.io/v1alpha1\n    resource: collectioniterators\n    name: compositiondefinitions-grid\n    namespace: krateo-system\n'})}),"\n",(0,s.jsxs)(n.p,{children:["Type ",(0,s.jsx)(n.em,{children:"column"})," supports ",(0,s.jsx)(n.em,{children:"propsRef"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.em,{children:"width"}),": a full-width column is max 24. It is possible to have multiple columns in a row but the widths sum must be 24, i.e. column-1 with width 12 and column-2 with width 12 will divide in half a row (12 is 50% of 24)."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"grid",children:"Grid"}),"\n",(0,s.jsxs)(n.p,{children:["This is the manifest of a CollectionIterator of ",(0,s.jsx)(n.em,{children:"spec.type=grid"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:'kind: ConfigMap\napiVersion: v1\nmetadata:\n  name: compositiondefinitions-grid\n  namespace: krateo-system\ndata:\n  width: "8"\n---\napiVersion: templates.krateo.io/v1alpha1\nkind: CollectionIterator\nmetadata:\n  name: compositiondefinitions-grid\n  namespace: krateo-system\n  annotations:\n    "krateo.io/connector-verbose": "true"\nspec:\n  type: grid\n  propsRef:\n    name: compositiondefinitions-grid\n    namespace: krateo-system\n  widgetsRefs:\n  - iterator: .allCompositionDefinitions.items\n    template:\n      apiVersion: templates.krateo.io/v1alpha1\n      resource: widgets\n      name: ${ "template-" + .metadata.name + "-card" }\n      namespace: ${ .metadata.namespace }\n  api:\n  - name: allCompositionDefinitions\n    path: "/list?category=defs"\n    verb: GET\n    endpointRef:\n      name: bff-endpoint\n      namespace: krateo-system\n    headers:\n    - \'Accept: application/json\'\n'})}),"\n",(0,s.jsxs)(n.p,{children:["Type ",(0,s.jsx)(n.em,{children:"gird"})," supports ",(0,s.jsx)(n.em,{children:"propsRef"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.em,{children:"width"}),": the width of single cell of the grid. A full-width column is max 24. If the grid should show 4 cells per grid row, the width should be 6 (6x4=24)."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"tablist",children:"Tablist"}),"\n",(0,s.jsxs)(n.p,{children:["This is the manifest of a Collection of ",(0,s.jsx)(n.em,{children:"spec.type=tablist"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"apiVersion: templates.krateo.io/v1alpha1\nkind: Collection\nmetadata:\n  name: composition-fireworksapp-tablist\n  namespace: krateo-system\nspec:\n  type: tablist\n  widgetsRefs:\n  - apiVersion: templates.krateo.io/v1alpha1\n    resource: collections\n    name: composition-fireworksapp-tabpane-overview\n    namespace: krateo-system\n  - apiVersion: templates.krateo.io/v1alpha1\n    resource: collections\n    name: composition-fireworksapp-tabpane-compositionstatus\n    namespace: krateo-system\n  - apiVersion: templates.krateo.io/v1alpha1\n    resource: collections\n    name: composition-fireworksapp-tabpane-applicationstatus\n    namespace: krateo-system\n  - apiVersion: templates.krateo.io/v1alpha1\n    resource: collections\n    name: composition-fireworksapp-tabpane-events\n    namespace: krateo-system\n  - apiVersion: templates.krateo.io/v1alpha1\n    resource: collections\n    name: composition-fireworksapp-tabpane-terminal\n    namespace: krateo-system\n  - apiVersion: templates.krateo.io/v1alpha1\n    resource: collections\n    name: composition-fireworksapp-tabpane-yamlviewer\n    namespace: krateo-system\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Type ",(0,s.jsx)(n.em,{children:"tablist"})," doesn't have any ",(0,s.jsx)(n.em,{children:"propsRef"}),"."]}),"\n",(0,s.jsx)(n.h4,{id:"tabpane",children:"TabPane"}),"\n",(0,s.jsxs)(n.p,{children:["This is the manifest of a Collection of ",(0,s.jsx)(n.em,{children:"spec.type=tabpane"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"kind: ConfigMap\napiVersion: v1\nmetadata:\n  name: composition-fireworksapp-tabpane-overview\n  namespace: krateo-system\ndata:\n  label: Overview\n---\napiVersion: templates.krateo.io/v1alpha1\nkind: Collection\nmetadata:\n  name: composition-fireworksapp-tabpane-overview\n  namespace: krateo-system\nspec:\n  type: tabpane\n  propsRef:\n    name: composition-fireworksapp-tabpane-overview\n    namespace: krateo-system\n  widgetsRefs:\n  - apiVersion: templates.krateo.io/v1alpha1\n    resource: collections\n    name: composition-fireworksapp-tabpane-overview-row\n    namespace: krateo-system\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Type ",(0,s.jsx)(n.em,{children:"tabpane"})," supports ",(0,s.jsx)(n.em,{children:"propsRef"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.em,{children:"label"}),": label to show in the tab."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"panel",children:"Panel"}),"\n",(0,s.jsxs)(n.p,{children:["This is the manifest of a Collection of ",(0,s.jsx)(n.em,{children:"spec.type=panel"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"apiVersion: templates.krateo.io/v1alpha1\nkind: Collection\nmetadata:\n  name: composition-fireworksapp-tabpane-overview-row-column-1-panel\n  namespace: krateo-system\nspec:\n  type: panel\n  widgetsRefs:\n  - apiVersion: templates.krateo.io/v1alpha1\n    resource: widgets\n    name: composition-fireworksapp-tabpane-overview-row-column-1-panel-paragraph\n    namespace: krateo-system\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Type ",(0,s.jsx)(n.em,{children:"panel"})," doesn't have any ",(0,s.jsx)(n.em,{children:"propsRef"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"widgets",children:"Widgets"}),"\n",(0,s.jsxs)(n.p,{children:["A ",(0,s.jsx)(n.em,{children:"Widget"})," is a graphical element that can be feeded via API. In ",(0,s.jsx)(n.em,{children:"Krateo PlatformOps"})," we provide three kinds of ",(0,s.jsx)(n.em,{children:"Widgets"}),":"]}),"\n",(0,s.jsx)(n.h3,{id:"widget",children:"Widget"}),"\n",(0,s.jsx)(n.h3,{id:"form",children:"Form"}),"\n",(0,s.jsx)(n.h3,{id:"customform",children:"CustomForm"})]})}function d(e={}){const{wrapper:n}={...(0,o.M)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}},2172:(e,n,t)=>{t.d(n,{I:()=>r,M:()=>i});var s=t(1504);const o={},a=s.createContext(o);function i(e){const n=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);