"use strict";(self.webpackChunkkrateo_v_2_docs=self.webpackChunkkrateo_v_2_docs||[]).push([[3536],{7920:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>d,metadata:()=>s,toc:()=>a});var i=n(7624),o=n(2172);const d={description:"Action Button Guide",sidebar_label:"Action Button Guide"},r="Action Button Guide",s={id:"how-to-guides/write-frontend/action-button-guide",title:"Action Button Guide",description:"Action Button Guide",source:"@site/docs/30-how-to-guides/40-write-frontend/11-action-button-guide.md",sourceDirName:"30-how-to-guides/40-write-frontend",slug:"/how-to-guides/write-frontend/action-button-guide",permalink:"/how-to-guides/write-frontend/action-button-guide",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:11,frontMatter:{description:"Action Button Guide",sidebar_label:"Action Button Guide"},sidebar:"tutorialSidebar",previous:{title:"Simple Page Guide",permalink:"/how-to-guides/write-frontend/simple-page-guide"},next:{title:"core-provider",permalink:"/core-crd-reference/core-provider-crd"}},c={},a=[{value:"Adding an <code>openDrawer</code> Action to the <code>Button</code>",id:"adding-an-opendrawer-action-to-the-button",level:2},{value:"Adding a <code>Form</code> Widget to the Drawer",id:"adding-a-form-widget-to-the-drawer",level:2},{value:"How It Works",id:"how-it-works",level:2}];function l(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.M)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h1,{id:"action-button-guide",children:"Action Button Guide"}),"\n",(0,i.jsxs)(t.p,{children:["Before starting this guide, make sure you have completed the ",(0,i.jsx)(t.a,{href:"/how-to-guides/write-frontend/simple-page-guide",children:"Simple Page Guide"}),"."]}),"\n",(0,i.jsx)(t.p,{children:"In the previous guide, you created:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["a ",(0,i.jsx)(t.code,{children:"Button"})," widget"]}),"\n",(0,i.jsxs)(t.li,{children:["a ",(0,i.jsx)(t.code,{children:"Page"})," widget acting as a container for the ",(0,i.jsx)(t.code,{children:"Button"})," widget"]}),"\n",(0,i.jsxs)(t.li,{children:["a ",(0,i.jsx)(t.code,{children:"NavMenuItem"})," widget to navigate to the ",(0,i.jsx)(t.code,{children:"Page"})," widget"]}),"\n"]}),"\n",(0,i.jsxs)(t.p,{children:["In this guide, you will extend that setup by adding ",(0,i.jsx)(t.strong,{children:"actions"})," to the ",(0,i.jsx)(t.code,{children:"Button"})," widget, enabling user interactions."]}),"\n",(0,i.jsxs)(t.h2,{id:"adding-an-opendrawer-action-to-the-button",children:["Adding an ",(0,i.jsx)(t.code,{children:"openDrawer"})," Action to the ",(0,i.jsx)(t.code,{children:"Button"})]}),"\n",(0,i.jsxs)(t.p,{children:["We will update the existing ",(0,i.jsx)(t.code,{children:"Button"})," widget so that it triggers an action when clicked. A ",(0,i.jsx)(t.code,{children:"Button"})," widget can trigger different types of actions. For a complete overview of available actions, refer to the ",(0,i.jsx)(t.a,{href:"/key-concepts/kcp/frontend",children:"Actions documentation"}),"."]}),"\n",(0,i.jsxs)(t.p,{children:["In this guide, we will use the ",(0,i.jsx)(t.code,{children:"openDrawer"})," action, which opens a side panel (drawer) and renders another widget inside it."]}),"\n",(0,i.jsxs)(t.p,{children:["To apply the updated ",(0,i.jsx)(t.code,{children:"Button"})," widget definition (this will override the previously created resource), run:"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-sh",children:"kubectl apply -f https://raw.githubusercontent.com/krateoplatformops/frontend/c52804d57a35ed7989d41d71461917b6d2898b43/docs/guides/action-button/guide-action-button.yaml\n"})}),"\n",(0,i.jsxs)(t.p,{children:["After refreshing the UI, click the button. You should see a drawer opening and displaying the content of a ",(0,i.jsx)(t.code,{children:"Paragraph"})," widget, which is referenced in the ",(0,i.jsx)(t.code,{children:"resourcesRefs"})," section of the ",(0,i.jsx)(t.code,{children:"Button"})," widget."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:"https://github.com/krateoplatformops/frontend/blob/c52804d57a35ed7989d41d71461917b6d2898b43/docs/guides/action-button/images/drawer-paragraph.png?raw=true",alt:"Drawer with paragraph"})}),"\n",(0,i.jsxs)(t.h2,{id:"adding-a-form-widget-to-the-drawer",children:["Adding a ",(0,i.jsx)(t.code,{children:"Form"})," Widget to the Drawer"]}),"\n",(0,i.jsxs)(t.p,{children:["Next, we will introduce a new widget: the ",(0,i.jsx)(t.code,{children:"Form"})," widget. A ",(0,i.jsx)(t.code,{children:"Form"})," widget can be used to collect user input and trigger actions such as creating new resources in the cluster."]}),"\n",(0,i.jsx)(t.p,{children:"Apply the following widget definition:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-sh",children:"kubectl apply -f https://raw.githubusercontent.com/krateoplatformops/frontend/c52804d57a35ed7989d41d71461917b6d2898b43/docs/guides/action-button/guide-action-button-form.yaml\n"})}),"\n",(0,i.jsxs)(t.p,{children:["Now, clicking the ",(0,i.jsx)(t.code,{children:"Button"})," widget will open a drawer containing the ",(0,i.jsx)(t.code,{children:"Form"})," widget. Fill in the form fields and click ",(0,i.jsx)(t.strong,{children:"Submit"}),". As a result, a new Pod should be created in the Kubernetes cluster."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:"https://github.com/krateoplatformops/frontend/blob/c52804d57a35ed7989d41d71461917b6d2898b43/docs/guides/action-button/images/drawer-form.png?raw=true",alt:"Drawer with form"})}),"\n",(0,i.jsx)(t.h2,{id:"how-it-works",children:"How It Works"}),"\n",(0,i.jsxs)(t.p,{children:["The ",(0,i.jsx)(t.code,{children:"Form"})," widget defines its fields using a static JSON schema and is associated with a ",(0,i.jsx)(t.code,{children:"rest"})," action. This action sends an HTTP request to the Kubernetes API to create a new Pod."]}),"\n",(0,i.jsxs)(t.p,{children:["The ",(0,i.jsx)(t.code,{children:"payloadToOverride"})," property is used to merge the values submitted through the form into the payload of the ",(0,i.jsx)(t.code,{children:"rest"})," action, allowing user input to dynamically influence the request sent to the API."]}),"\n",(0,i.jsx)(t.p,{children:"This pattern demonstrates how widgets, actions, and APIs can be combined to build interactive and data-driven user experiences in the Krateo Composable Portal."})]})}function h(e={}){const{wrapper:t}={...(0,o.M)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},2172:(e,t,n)=>{n.d(t,{I:()=>s,M:()=>r});var i=n(1504);const o={},d=i.createContext(o);function r(e){const t=i.useContext(d);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),i.createElement(d.Provider,{value:t},e.children)}}}]);