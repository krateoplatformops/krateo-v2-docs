"use strict";(self.webpackChunkkrateo_v_2_docs=self.webpackChunkkrateo_v_2_docs||[]).push([[464],{1940:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>p,frontMatter:()=>i,metadata:()=>a,toc:()=>l});var r=o(7624),n=o(2172);const i={sidebar_label:"Krateo Composable Operations",description:"Find out more about Krateo Composable Operations (KCO) key concepts"},s="What is Krateo Composable Operations (KCO)?",a={id:"key-concepts/kco",title:"What is Krateo Composable Operations (KCO)?",description:"Find out more about Krateo Composable Operations (KCO) key concepts",source:"@site/docs/20-key-concepts/10-kco.md",sourceDirName:"20-key-concepts",slug:"/key-concepts/kco",permalink:"/krateo-v2-docs/key-concepts/kco",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:10,frontMatter:{sidebar_label:"Krateo Composable Operations",description:"Find out more about Krateo Composable Operations (KCO) key concepts"},sidebar:"tutorialSidebar",previous:{title:"Overview",permalink:"/krateo-v2-docs/"},next:{title:"Krateo Composable Portal",permalink:"/krateo-v2-docs/key-concepts/kcp"}},c={},l=[{value:"core-provider",id:"core-provider",level:2},{value:"composition-dynamic-controller",id:"composition-dynamic-controller",level:2},{value:"provider-runtime",id:"provider-runtime",level:2},{value:"patch-provider",id:"patch-provider",level:2},{value:"event-router",id:"event-router",level:2},{value:"condition-watcher (planned)",id:"condition-watcher-planned",level:2}];function h(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,n.M)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h1,{id:"what-is-krateo-composable-operations-kco",children:"What is Krateo Composable Operations (KCO)?"}),"\n",(0,r.jsx)(t.p,{children:"\ud83d\udca1 KCO uses Kubernetes as the orchestration layer of the entire data center and the related processes that exploit the available services."}),"\n",(0,r.jsx)(t.p,{children:"\ud83d\udcda The use cases are diverse, from infrastructure provisioning (legacy and cloud-native, from mainframe to lambda) to scaffolding the CI/CD toolchain to prepare for onboarding a new application."}),"\n",(0,r.jsx)(t.p,{children:"\ud83e\udd1d The context is not only that of the green field, but KCO also adapts perfectly to a brownfield context, where the processes already exist and are distributed and implemented within different technologies that do not allow end-to-end automation of an entire blueprint."}),"\n",(0,r.jsx)(t.p,{children:"\ud83c\udfaf Through its Operators, Kubernetes can represent the abstraction layer and standardization of the heterogeneity of systems, processes, and technologies within your organization."}),"\n",(0,r.jsxs)(t.p,{children:["\ud83d\udcaf There are already several operators implemented; search within ",(0,r.jsx)(t.a,{href:"https://operatorhub.io/",children:"https://operatorhub.io/"}),", within the Upbound marketplace (",(0,r.jsx)(t.a,{href:"https://marketplace.upbound.io/",children:"https://marketplace.upbound.io/"}),"), or point directly to the operators released by cloud providers such as Azure (",(0,r.jsx)(t.a,{href:"https://azure.github.io/azure-service-operator/",children:"https://azure.github.io/azure-service-operator/"}),") or AWS (",(0,r.jsx)(t.a,{href:"https://aws-controllers-k8s.github.io/community/",children:"https://aws-controllers-k8s.github.io/community/"}),"). There are SDKs for writing an Operator, such as OperatorSDK (",(0,r.jsx)(t.a,{href:"https://sdk.operatorframework.io/",children:"https://sdk.operatorframework.io/"}),"). It is also possible to interact directly with tools such as KubeBuilder (",(0,r.jsx)(t.a,{href:"https://book.kubebuilder.io/quick-start.html",children:"https://book.kubebuilder.io/quick-start.html"}),")."]}),"\n",(0,r.jsx)(t.p,{children:"KCO consists of the following features:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"core-provider"}),"\n",(0,r.jsx)(t.li,{children:"composition-dynamic-controller"}),"\n",(0,r.jsx)(t.li,{children:"provider-runtime"}),"\n",(0,r.jsx)(t.li,{children:"patch-provider"}),"\n",(0,r.jsx)(t.li,{children:"event-router"}),"\n",(0,r.jsx)(t.li,{children:"condition-watcher (planned)"}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"KCO Architecture",src:o(6472).c+"",width:"1201",height:"541"})}),"\n",(0,r.jsx)(t.h2,{id:"core-provider",children:"core-provider"}),"\n",(0,r.jsxs)(t.p,{children:["The \ud835\ude24\ud835\ude30\ud835\ude33\ud835\ude26-\ud835\ude31\ud835\ude33\ud835\ude30\ud835\ude37\ud835\ude2a\ud835\ude25\ud835\ude26\ud835\ude33 (",(0,r.jsx)(t.a,{href:"https://github.com/krateoplatformops/core-provider",children:"https://github.com/krateoplatformops/core-provider"}),") is the first function of Krateo Composable Operations (KCO) and is vital in the Krateo PlatformOps product."]}),"\n",(0,r.jsx)(t.p,{children:"\ud83d\udccc The product assumes that Kubernetes is the standard for IT process orchestration, bringing together business application developers and infrastructure automation developers."}),"\n",(0,r.jsx)(t.p,{children:"\ud83d\udcc8 Helm is the most widely used tool for composing multiple Kubernetes manifests."}),"\n",(0,r.jsx)(t.p,{children:"\u261d However, it's important to note that Helm is not a resource natively recognized by Kubernetes. To install a Helm chart, you need to use the relevant CLI or tools configured to acknowledge Helm charts and install them on the cluster. For example, ArgoCD or FluxCD are two well-known options, but many others are available."}),"\n",(0,r.jsx)(t.p,{children:"\u26a1\ufe0f The \ud835\ude24\ud835\ude30\ud835\ude33\ud835\ude26-\ud835\ude31\ud835\ude33\ud835\ude30\ud835\ude37\ud835\ude2a\ud835\ude25\ud835\ude26\ud835\ude33 is a Kubernetes operator that downloads a Helm chart using one of three possible methods (via tgz, Helm repo, or OCI image). It checks for the existence of values.schema.json for linting the Helm chart and uses it to generate a Custom Resource Definition in Kubernetes. This definition accurately represents the possible values that can be expressed for the installation of the chart."}),"\n",(0,r.jsx)(t.p,{children:"\ud83d\udcaf We chose to write the \ud835\ude24\ud835\ude30\ud835\ude33\ud835\ude26-\ud835\ude31\ud835\ude33\ud835\ude30\ud835\ude37\ud835\ude2a\ud835\ude25\ud835\ude26\ud835\ude33 instead of using an existing tool because no existing tool provides input validation. Some tools accept incorrect inputs and only generate error messages after receiving them."}),"\n",(0,r.jsx)(t.p,{children:"\u2757However, Kubernetes is designed to validate resource inputs before applying them to the cluster, and we adhere to this hard requirement throughout Krateo development."}),"\n",(0,r.jsx)(t.p,{children:"\u270c That's why we created the \ud835\ude24\ud835\ude30\ud835\ude33\ud835\ude26-\ud835\ude31\ud835\ude33\ud835\ude30\ud835\ude37\ud835\ude2a\ud835\ude25\ud835\ude26\ud835\ude33, which provides input validation and ensures that incorrect inputs are not even accepted in the first place."}),"\n",(0,r.jsx)(t.h2,{id:"composition-dynamic-controller",children:"composition-dynamic-controller"}),"\n",(0,r.jsx)(t.p,{children:"The second component of Krateo Composable Operations (KCO) in Krateo PlatformOps is the \ud835\ude24\ud835\ude30\ud835\ude2e\ud835\ude31\ud835\ude30\ud835\ude34\ud835\ude2a\ud835\ude35\ud835\ude2a\ud835\ude30\ud835\ude2f-\ud835\ude25\ud835\ude3a\ud835\ude2f\ud835\ude22\ud835\ude2e\ud835\ude2a\ud835\ude24-\ud835\ude24\ud835\ude30\ud835\ude2f\ud835\ude35\ud835\ude33\ud835\ude30\ud835\ude2d\ud835\ude2d\ud835\ude26\ud835\ude33, which is an operator that is instantiated by the \ud835\ude24\ud835\ude30\ud835\ude33\ud835\ude26-\ud835\ude31\ud835\ude33\ud835\ude30\ud835\ude37\ud835\ude2a\ud835\ude25\ud835\ude26\ud835\ude33 to manage the Custom Resources whose Custom Resource Definition is generated by the core provider."}),"\n",(0,r.jsx)(t.p,{children:"\ud83c\udfae There is nothing better than trying our free and self-service laboratory to understand in detail what the core provider and the composition-dynamic controller allow you to do together!"}),"\n",(0,r.jsxs)(t.p,{children:["Get your hands dirty \ud83d\udc49 ",(0,r.jsx)(t.a,{href:"https://killercoda.com/krateoplatformops/scenario/krateo-composable-operations",children:"https://killercoda.com/krateoplatformops/scenario/krateo-composable-operations"}),"."]}),"\n",(0,r.jsx)(t.h2,{id:"provider-runtime",children:"provider-runtime"}),"\n",(0,r.jsxs)(t.p,{children:["The third component of Krateo Composable Operations (KCO) in Krateo PlatformOps is the \ud835\ude31\ud835\ude33\ud835\ude30\ud835\ude37\ud835\ude2a\ud835\ude25\ud835\ude26\ud835\ude33-\ud835\ude33\ud835\ude36\ud835\ude2f\ud835\ude35\ud835\ude2a\ud835\ude2e\ud835\ude26 (",(0,r.jsx)(t.a,{href:"https://github.com/krateoplatformops/provider-runtime",children:"https://github.com/krateoplatformops/provider-runtime"}),"), our production-grade version of the controller-runtime (",(0,r.jsx)(t.a,{href:"https://github.com/kubernetes-sigs/controller-runtime",children:"https://github.com/kubernetes-sigs/controller-runtime"}),"). Both runtimes can be used to implement Kubernetes operators."]}),"\n",(0,r.jsx)(t.p,{children:"\ud83c\udd9a What more have we added to the provider-runtime compared to the controller-runtime? Three features:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:"\ud835\ude31\ud835\ude22\ud835\ude36\ud835\ude34\ud835\ude2a\ud835\ude2f\ud835\ude28 \ud835\ude35\ud835\ude29\ud835\ude26 \ud835\ude33\ud835\ude26\ud835\ude24\ud835\ude30\ud835\ude2f\ud835\ude24\ud835\ude2a\ud835\ude2d\ud835\ude2a\ud835\ude22\ud835\ude35\ud835\ude2a\ud835\ude30\ud835\ude2f \ud835\ude30\ud835\ude27 \ud835\ude35\ud835\ude29\ud835\ude26 \ud835\ude0a\ud835\ude36\ud835\ude34\ud835\ude35\ud835\ude30\ud835\ude2e \ud835\ude19\ud835\ude26\ud835\ude34\ud835\ude30\ud835\ude36\ud835\ude33\ud835\ude24\ud835\ude26: the use case is in which the infrastructure that exposes the API to the Operator has anomalies that lead to maintenance (planned or extraordinary), and you want to prevent the Operator from bombarding the API with unnecessary calls."}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:"\ud835\ude2a\ud835\ude2f\ud835\ude29\ud835\ude2a\ud835\ude23\ud835\ude2a\ud835\ude35\ud835\ude2a\ud835\ude2f\ud835\ude28 \ud835\ude30\ud835\ude2f\ud835\ude26 \ud835\ude30\ud835\ude33 \ud835\ude2e\ud835\ude30\ud835\ude33\ud835\ude26 \ud835\ude23\ud835\ude26\ud835\ude29\ud835\ude22\ud835\ude37\ud835\ude2a\ud835\ude30\ud835\ude33\ud835\ude34 \ud835\ude30\ud835\ude27 \ud835\ude35\ud835\ude29\ud835\ude26 \ud835\ude0a\ud835\ude36\ud835\ude34\ud835\ude35\ud835\ude30\ud835\ude2e \ud835\ude19\ud835\ude26\ud835\ude34\ud835\ude30\ud835\ude36\ud835\ude33\ud835\ude24\ud835\ude26: the example is when I want to prevent the deletion (deliberate or by mistake) of the Custom Resource in the production environment from also deleting the physical resource managed by the Operator. Another example is when I want to import a resource created before using an operator into Kubernetes."}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["\ud835\ude27\ud835\ude30\ud835\ude33\ud835\ude24\ud835\ude2a\ud835\ude2f\ud835\ude28 \ud835\ude35\ud835\ude29\ud835\ude26 \ud835\ude38\ud835\ude33\ud835\ude2a\ud835\ude35\ud835\ude2a\ud835\ude2f\ud835\ude28 \ud835\ude30\ud835\ude27 \ud835\ude22 \ud835\ude12\ud835\ude36\ud835\ude23\ud835\ude26\ud835\ude33\ud835\ude2f\ud835\ude26\ud835\ude35\ud835\ude26\ud835\ude34 \ud835\ude26\ud835\ude37\ud835\ude26\ud835\ude2f\ud835\ude35 \ud835\ude22\ud835\ude35 \ud835\ude26\ud835\ude22\ud835\ude24\ud835\ude29 \ud835\ude24\ud835\ude29\ud835\ude22\ud835\ude2f\ud835\ude28\ud835\ude26 \ud835\ude30\ud835\ude27 \ud835\ude24\ud835\ude30\ud835\ude2f\ud835\ude25\ud835\ude2a\ud835\ude35\ud835\ude2a\ud835\ude30\ud835\ude2f. A Kubernetes event contains valuable information that lets you understand what happened, when, and who detected a change of condition in the managed resource (",(0,r.jsx)(t.a,{href:"https://www.cncf.io/blog/2023/03/13/how-to-use-kubernetes-events-for-effective-alerting-and-monitoring/",children:"https://www.cncf.io/blog/2023/03/13/how-to-use-kubernetes-events-for-effective-alerting-and-monitoring/"}),"). Although extremely useful, an Operator does not necessarily write a Kubernetes event at every change of condition. Our provider runtime instead forces us to write an event."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:["An example of an Operator written with our provider runtime is the github-provider; look at it \ud83d\udc49 ",(0,r.jsx)(t.a,{href:"https://github.com/krateoplatformops/github-provider",children:"https://github.com/krateoplatformops/github-provider"}),"."]}),"\n",(0,r.jsx)(t.h2,{id:"patch-provider",children:"patch-provider"}),"\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.a,{href:"https://github.com/krateoplatformops/patch-provider",children:"\ud835\ude31\ud835\ude22\ud835\ude35\ud835\ude24\ud835\ude29-\ud835\ude31\ud835\ude33\ud835\ude30\ud835\ude37\ud835\ude2a\ud835\ude25\ud835\ude26\ud835\ude33"})," is the fourth component of Krateo Composable Operations (KCO) of Krateo PlatformOps."]}),"\n",(0,r.jsx)(t.p,{children:"\ud83c\udfaf Its primary purpose is to modify a Kubernetes resource's values by taking another resource's value as a source and possibly applying transformations."}),"\n",(0,r.jsx)(t.p,{children:"\u21aa The need to implement the patch-provider arose from the need to establish dependencies between the outputs of one resource (for example, a field in its status) and the inputs of another."}),"\n",(0,r.jsx)(t.p,{children:"\ud83d\udc47 Attached is an example of a Patch that takes the 'data.value1' field from the 'foo' ConfigMap and encodes it in base64 by adding the 'prefix-' prefix and saving the result in the 'data.value2' field of the ConfigMap 'bar'."}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-yaml",children:'apiVersion: krateo.io/v1alpha1\nkind: Patch\nmetadata:\n  name: sample1\nspec:\n  from:\n    objectReference:\n      apiVersion: v1\n      kind: ConfigMap\n      name: foo\n    fieldPath: data\n  to:\n    objectReference:\n      apiVersion: v1\n      kind: ConfigMap\n      name: bar\n    fieldPath: data.value2\n    transforms:\n      - b64enc .value1\n      - printf "prefix-%s"\n'})}),"\n",(0,r.jsx)(t.h2,{id:"event-router",children:"event-router"}),"\n",(0,r.jsx)(t.p,{children:"The fifth component of Krateo Composable Operation (KCO) in Krateo PlatformOps is the \ud835\ude26\ud835\ude37\ud835\ude26\ud835\ude2f\ud835\ude35\ud835\ude33\ud835\ude30\ud835\ude36\ud835\ude35\ud835\ude26\ud835\ude33 - a cutting-edge Kubernetes Event aggregation and dispatching solution."}),"\n",(0,r.jsx)(t.p,{children:"The \ud835\ude26\ud835\ude37\ud835\ude26\ud835\ude2f\ud835\ude35\ud835\ude33\ud835\ude30\ud835\ude36\ud835\ude35\ud835\ude26\ud835\ude33 is a pivotal solution for enterprises and DevOps teams seeking to enhance their monitoring and observability strategies. Efficiently routing Kubernetes cluster events to various sinks provides a consolidated view of the operational health and performance of applications running on Kubernetes."}),"\n",(0,r.jsx)(t.p,{children:"Key Features:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"\ud835\uddd8\ud835\ude03\ud835\uddf2\ud835\uddfb\ud835\ude01 \ud835\uddd4\ud835\uddf4\ud835\uddf4\ud835\uddff\ud835\uddf2\ud835\uddf4\ud835\uddee\ud835\ude01\ud835\uddf6\ud835\uddfc\ud835\uddfb: Collects events from all corners of a Kubernetes cluster, offering a unified stream of insights into your infrastructure's state."}),"\n",(0,r.jsx)(t.li,{children:"\ud835\uddd9\ud835\uddf9\ud835\uddf2\ud835\ude05\ud835\uddf6\ud835\uddef\ud835\uddf9\ud835\uddf2 \ud835\uddd7\ud835\uddf6\ud835\ude00\ud835\uddfd\ud835\uddee\ud835\ude01\ud835\uddf0\ud835\uddf5\ud835\uddf6\ud835\uddfb\ud835\uddf4: Supports multiple sinks, enabling customized event processing and integration with monitoring tools of your choice."}),"\n",(0,r.jsx)(t.li,{children:"\ud835\udde2\ud835\uddfd\ud835\uddf2\ud835\uddfb \ud835\udde6\ud835\uddfc\ud835\ude02\ud835\uddff\ud835\uddf0\ud835\uddf2: As part of our commitment to community-driven development, \ud835\ude26\ud835\ude37\ud835\ude26\ud835\ude2f\ud835\ude35\ud835\ude33\ud835\ude30\ud835\ude36\ud835\ude35\ud835\ude26\ud835\ude33 is fully open source, inviting worldwide contributions and developer feedback."}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:["For more details and to get started, visit our GitHub repository: ",(0,r.jsx)(t.a,{href:"https://github.com/krateoplatformops/eventrouter",children:"https://github.com/krateoplatformops/eventrouter"})]}),"\n",(0,r.jsx)(t.h2,{id:"condition-watcher-planned",children:"condition-watcher (planned)"})]})}function p(e={}){const{wrapper:t}={...(0,n.M)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},6472:(e,t,o)=>{o.d(t,{c:()=>r});const r=o.p+"assets/images/krateo-kco-156e839c66a0a6fc5cbc3684978929d3.png"},2172:(e,t,o)=>{o.d(t,{I:()=>a,M:()=>s});var r=o(1504);const n={},i=r.createContext(n);function s(e){const t=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:s(e.components),r.createElement(i.Provider,{value:t},e.children)}}}]);