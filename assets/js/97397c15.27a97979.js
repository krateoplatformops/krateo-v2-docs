"use strict";(self.webpackChunkkrateo_v_2_docs=self.webpackChunkkrateo_v_2_docs||[]).push([[5976],{4072:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>h,frontMatter:()=>i,metadata:()=>a,toc:()=>p});var n=r(7624),o=r(2172);const i={},s="provider-runtime",a={id:"key-concepts/kco/provider-runtime",title:"provider-runtime",description:"The third component of Krateo Composable Operations (KCO) in Krateo PlatformOps is the \ud835\ude31\ud835\ude33\ud835\ude30\ud835\ude37\ud835\ude2a\ud835\ude25\ud835\ude26\ud835\ude33-\ud835\ude33\ud835\ude36\ud835\ude2f\ud835\ude35\ud835\ude2a\ud835\ude2e\ud835\ude26 (https//github.com/kubernetes-sigs/controller-runtime). Both runtimes can be used to implement Kubernetes operators.",source:"@site/docs/20-key-concepts/10-kco/30-provider-runtime.md",sourceDirName:"20-key-concepts/10-kco",slug:"/key-concepts/kco/provider-runtime",permalink:"/key-concepts/kco/provider-runtime",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:30,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"composition-dynamic-controller",permalink:"/key-concepts/kco/composition-dynamic-controller"},next:{title:"frontend",permalink:"/key-concepts/kcp/frontend"}},c={},p=[];function u(e){const t={a:"a",h1:"h1",li:"li",p:"p",ul:"ul",...(0,o.M)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{id:"provider-runtime",children:"provider-runtime"}),"\n",(0,n.jsxs)(t.p,{children:["The third component of Krateo Composable Operations (KCO) in Krateo PlatformOps is the \ud835\ude31\ud835\ude33\ud835\ude30\ud835\ude37\ud835\ude2a\ud835\ude25\ud835\ude26\ud835\ude33-\ud835\ude33\ud835\ude36\ud835\ude2f\ud835\ude35\ud835\ude2a\ud835\ude2e\ud835\ude26 (",(0,n.jsx)(t.a,{href:"https://github.com/krateoplatformops/provider-runtime",children:"https://github.com/krateoplatformops/provider-runtime"}),"), our production-grade version of the controller-runtime (",(0,n.jsx)(t.a,{href:"https://github.com/kubernetes-sigs/controller-runtime",children:"https://github.com/kubernetes-sigs/controller-runtime"}),"). Both runtimes can be used to implement Kubernetes operators."]}),"\n",(0,n.jsx)(t.p,{children:"\ud83c\udd9a What more have we added to the provider-runtime compared to the controller-runtime? Three features:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsx)(t.p,{children:"\ud835\ude31\ud835\ude22\ud835\ude36\ud835\ude34\ud835\ude2a\ud835\ude2f\ud835\ude28 \ud835\ude35\ud835\ude29\ud835\ude26 \ud835\ude33\ud835\ude26\ud835\ude24\ud835\ude30\ud835\ude2f\ud835\ude24\ud835\ude2a\ud835\ude2d\ud835\ude2a\ud835\ude22\ud835\ude35\ud835\ude2a\ud835\ude30\ud835\ude2f \ud835\ude30\ud835\ude27 \ud835\ude35\ud835\ude29\ud835\ude26 \ud835\ude0a\ud835\ude36\ud835\ude34\ud835\ude35\ud835\ude30\ud835\ude2e \ud835\ude19\ud835\ude26\ud835\ude34\ud835\ude30\ud835\ude36\ud835\ude33\ud835\ude24\ud835\ude26: the use case is in which the infrastructure that exposes the API to the Operator has anomalies that lead to maintenance (planned or extraordinary), and you want to prevent the Operator from bombarding the API with unnecessary calls."}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsx)(t.p,{children:"\ud835\ude2a\ud835\ude2f\ud835\ude29\ud835\ude2a\ud835\ude23\ud835\ude2a\ud835\ude35\ud835\ude2a\ud835\ude2f\ud835\ude28 \ud835\ude30\ud835\ude2f\ud835\ude26 \ud835\ude30\ud835\ude33 \ud835\ude2e\ud835\ude30\ud835\ude33\ud835\ude26 \ud835\ude23\ud835\ude26\ud835\ude29\ud835\ude22\ud835\ude37\ud835\ude2a\ud835\ude30\ud835\ude33\ud835\ude34 \ud835\ude30\ud835\ude27 \ud835\ude35\ud835\ude29\ud835\ude26 \ud835\ude0a\ud835\ude36\ud835\ude34\ud835\ude35\ud835\ude30\ud835\ude2e \ud835\ude19\ud835\ude26\ud835\ude34\ud835\ude30\ud835\ude36\ud835\ude33\ud835\ude24\ud835\ude26: the example is when I want to prevent the deletion (deliberate or by mistake) of the Custom Resource in the production environment from also deleting the physical resource managed by the Operator. Another example is when I want to import a resource created before using an operator into Kubernetes."}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:["\ud835\ude27\ud835\ude30\ud835\ude33\ud835\ude24\ud835\ude2a\ud835\ude2f\ud835\ude28 \ud835\ude35\ud835\ude29\ud835\ude26 \ud835\ude38\ud835\ude33\ud835\ude2a\ud835\ude35\ud835\ude2a\ud835\ude2f\ud835\ude28 \ud835\ude30\ud835\ude27 \ud835\ude22 \ud835\ude12\ud835\ude36\ud835\ude23\ud835\ude26\ud835\ude33\ud835\ude2f\ud835\ude26\ud835\ude35\ud835\ude26\ud835\ude34 \ud835\ude26\ud835\ude37\ud835\ude26\ud835\ude2f\ud835\ude35 \ud835\ude22\ud835\ude35 \ud835\ude26\ud835\ude22\ud835\ude24\ud835\ude29 \ud835\ude24\ud835\ude29\ud835\ude22\ud835\ude2f\ud835\ude28\ud835\ude26 \ud835\ude30\ud835\ude27 \ud835\ude24\ud835\ude30\ud835\ude2f\ud835\ude25\ud835\ude2a\ud835\ude35\ud835\ude2a\ud835\ude30\ud835\ude2f. A Kubernetes event contains valuable information that lets you understand what happened, when, and who detected a change of condition in the managed resource (",(0,n.jsx)(t.a,{href:"https://www.cncf.io/blog/2023/03/13/how-to-use-kubernetes-events-for-effective-alerting-and-monitoring/",children:"https://www.cncf.io/blog/2023/03/13/how-to-use-kubernetes-events-for-effective-alerting-and-monitoring/"}),"). Although extremely useful, an Operator does not necessarily write a Kubernetes event at every change of condition. Our provider runtime instead forces us to write an event."]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(t.p,{children:["An example of an Operator written with our provider runtime is the github-provider; look at it \ud83d\udc49 ",(0,n.jsx)(t.a,{href:"https://github.com/krateoplatformops/github-provider",children:"https://github.com/krateoplatformops/github-provider"}),"."]})]})}function h(e={}){const{wrapper:t}={...(0,o.M)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(u,{...e})}):u(e)}},2172:(e,t,r)=>{r.d(t,{I:()=>a,M:()=>s});var n=r(1504);const o={},i=n.createContext(o);function s(e){const t=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);