"use strict";(self.webpackChunkkrateo_v_2_docs=self.webpackChunkkrateo_v_2_docs||[]).push([[440],{8104:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>d,contentTitle:()=>i,default:()=>p,frontMatter:()=>l,metadata:()=>c,toc:()=>u});var n=a(7624),r=a(2172),s=a(1268),o=a(5388);const l={description:"Learn how to install Krateo PlatformOps using this step-by-step guide",sidebar_label:"Installing Krateo PlatformOps"},i="Installing Krateo PlatformOps",c={id:"how-to-guides/installing-krateo",title:"Installing Krateo PlatformOps",description:"Learn how to install Krateo PlatformOps using this step-by-step guide",source:"@site/docs/30-how-to-guides/10-installing-krateo.md",sourceDirName:"30-how-to-guides",slug:"/how-to-guides/installing-krateo",permalink:"/how-to-guides/installing-krateo",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:10,frontMatter:{description:"Learn how to install Krateo PlatformOps using this step-by-step guide",sidebar_label:"Installing Krateo PlatformOps"},sidebar:"tutorialSidebar",previous:{title:"Krateo Composable FinOps",permalink:"/key-concepts/kcf"},next:{title:"Migrating Krateo PlatformOps Composition from v1 to v2",permalink:"/how-to-guides/migrating-from-composition-to-helm"}},d={},u=[{value:"Basic Installation",id:"basic-installation",level:2}];function h(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.M)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{id:"installing-krateo-platformops",children:"Installing Krateo PlatformOps"}),"\n",(0,n.jsx)(t.h2,{id:"basic-installation",children:"Basic Installation"}),"\n",(0,n.jsx)(t.p,{children:"Installing Krateo with default configuration is quick and easy."}),"\n",(0,n.jsx)(t.p,{children:"You will need:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.a,{href:"https://helm.sh/docs/",children:"Helm"}),": These instructions were tested with v3.13.1."]}),"\n",(0,n.jsx)(t.li,{children:"A Kubernetes cluster."}),"\n"]}),"\n",(0,n.jsx)(t.admonition,{type:"note",children:(0,n.jsx)(t.p,{children:"Krateo PlatformOps installer is a flexible workflow engine that executes sequential steps. The installer-chart is a helper that provider already baked configurations for Krateo PlatformOps. It is however possible to implement a custom installer."})}),"\n",(0,n.jsxs)(s.c,{groupId:"cluster-start",children:[(0,n.jsxs)(o.c,{value:"kind",label:"kind",children:[(0,n.jsxs)(t.p,{children:["If you have any Docker-compatible container runtime installed (including native\nDocker, Docker Desktop, or OrbStack), you can easily launch a disposable cluster\njust for this quickstart using\n",(0,n.jsx)(t.a,{href:"https://kind.sigs.k8s.io/#installation-and-usage",children:"kind"}),"."]}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-shell",children:'helm repo add krateo https://charts.krateo.io\nhelm repo update krateo\n\nkind create cluster --wait 120s --image kindest/node:v1.30.4 --config - <<EOF\nkind: Cluster\napiVersion: kind.x-k8s.io/v1alpha4\nname: krateo-quickstart\nnodes:\n- role: control-plane\n  kubeadmConfigPatches:\n  - |\n    kind: InitConfiguration\n    nodeRegistration:\n      kubeletExtraArgs:\n        node-labels: "ingress-ready=true"\n  extraPortMappings:\n  - containerPort: 80\n    hostPort: 80\n    protocol: TCP\n  - containerPort: 443\n    hostPort: 443\n    protocol: TCP\n- role: worker\n  extraPortMappings:\n  - containerPort: 30080 # Krateo Portal\n    hostPort: 30080\n  - containerPort: 30081 # Krateo BFF\n    hostPort: 30081\n  - containerPort: 30082 # Krateo AuthN Service\n    hostPort: 30082\n  - containerPort: 30083 # Krateo EventSSE\n    hostPort: 30083\n  - containerPort: 30084 # Krateo Terminal Server\n    hostPort: 30084\n  - containerPort: 30084 # Krateo FireworksApp Frontend\n    hostPort: 30085\n  - containerPort: 31443 # vCluster API Server Port\n    hostPort: 31443\nnetworking:\n  # By default the API server listens on a random open port.\n  # You may choose a specific port but probably don\'t need to in most cases.\n  # Using a random port makes it easier to spin up multiple clusters.\n  apiServerPort: 6443\nEOF\n\nhelm upgrade installer installer \\\n  --repo https://charts.krateo.io \\\n  --namespace krateo-system \\\n  --create-namespace \\\n  --install \\\n  --version 2.1.6 \\\n  --wait\n'})}),(0,n.jsx)(t.admonition,{type:"info",children:(0,n.jsx)(t.p,{children:"While this option is a bit more complex than using Docker Desktop or OrbStack\ndirectly, it offers the advantage of being fully-disposable. If your cluster\nreaches a state you are dissatisfied with, you can simply destroy it and\nlaunch a new one."})}),(0,n.jsx)(t.p,{children:"At the end of this process:"}),(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["The Krateo Composable Portal will be accessible at ",(0,n.jsx)(t.a,{href:"http://localhost:30080",children:"localhost:30080"}),"."]}),"\n"]})]}),(0,n.jsx)(o.c,{value:"loadbalancer-ip",label:"LoadBalancer with external IP",children:(0,n.jsxs)(s.c,{groupId:"kubernetes-version",children:[(0,n.jsxs)(o.c,{value:">1.28",label:">1.28",children:[(0,n.jsx)(t.p,{children:"Krateo PlatformOps can be exposed via LoadBalancer service type that exposes an IP."}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-shell",children:"helm repo add krateo https://charts.krateo.io\nhelm repo update krateo\n\nhelm upgrade installer installer \\\n  --repo https://charts.krateo.io \\\n  --namespace krateo-system \\\n  --create-namespace \\\n  --set krateoplatformops.service.type=LoadBalancer \\\n  --set krateoplatformops.service.externalIpAvailable=true \\\n  --install \\\n  --version 2.1.6 \\\n  --wait\n"})}),(0,n.jsx)(t.p,{children:"The following command will install Krateo with default configuration and a user-specified admin password:"}),(0,n.jsxs)(t.admonition,{type:"info",children:[(0,n.jsx)(t.p,{children:"Default values deploy Krateo exposing services via LoadBalancer:"}),(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"8080 - Krateo Frontend"}),"\n",(0,n.jsx)(t.li,{children:"8081 - BFF"}),"\n",(0,n.jsx)(t.li,{children:"8082 - AuthN"}),"\n"]})]}),(0,n.jsx)(t.p,{children:"At the end of this process:"}),(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"Find the Krateo Composable Portal IP:"}),"\n"]}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-shell",children:"kubectl get svc krateo-frontend -n krateo-system  -o=jsonpath='{.status.loadBalancer.ingress[0].ip}'\n"})}),(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"The Krateo Composable Portal will be accessible at previous IP at port 8080."}),"\n"]})]}),(0,n.jsxs)(o.c,{value:"<=1.28",label:"<=1.28",children:[(0,n.jsx)(t.p,{children:"Krateo PlatformOps can be exposed via LoadBalancer service type that exposes an IP."}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-shell",children:"helm repo add krateo https://charts.krateo.io\nhelm repo update krateo\n\nhelm upgrade installer installer \\\n  --repo https://charts.krateo.io \\\n  --namespace krateo-system \\\n  --create-namespace \\\n  --set krateoplatformops.vcluster.enabled=true \\\n  --set krateoplatformops.service.type=LoadBalancer \\\n  --set krateoplatformops.service.externalIpAvailable=true \\\n  --install \\\n  --version 2.1.6 \\\n  --wait\n"})}),(0,n.jsx)(t.p,{children:"The following command will install Krateo with default configuration and a user-specified admin password:"}),(0,n.jsxs)(t.admonition,{type:"info",children:[(0,n.jsx)(t.p,{children:"Default values deploy Krateo exposing services via LoadBalancer:"}),(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"8080 - Krateo Frontend"}),"\n",(0,n.jsx)(t.li,{children:"8081 - BFF"}),"\n",(0,n.jsx)(t.li,{children:"8082 - AuthN"}),"\n"]})]}),(0,n.jsx)(t.p,{children:"At the end of this process:"}),(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"Find the Krateo Composable Portal IP:"}),"\n"]}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-shell",children:"kubectl get svc krateo-frontend-x-krateo-system-x-vcluster-k8s -n krateo-system  -o=jsonpath='{.status.loadBalancer.ingress[0].ip}'\n"})}),(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"The Krateo Composable Portal will be accessible at previous IP at port 8080."}),"\n"]})]})]})}),(0,n.jsx)(o.c,{value:"loadbalancer-hostname",label:"LoadBalancer with external hostname",children:(0,n.jsxs)(s.c,{groupId:"kubernetes-version",children:[(0,n.jsxs)(o.c,{value:">1.28",label:">1.28",children:[(0,n.jsx)(t.p,{children:"Krateo PlatformOps can be exposed via LoadBalancer service type that exposes a hostname."}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-shell",children:"helm repo add krateo https://charts.krateo.io\nhelm repo update krateo\n\nhelm upgrade installer installer \\\n  --repo https://charts.krateo.io \\\n  --namespace krateo-system \\\n  --create-namespace \\\n  --set krateoplatformops.service.type=LoadBalancer \\\n  --set krateoplatformops.service.externalIpAvailable=false \\\n  --install \\\n  --wait\n"})}),(0,n.jsx)(t.p,{children:"The following command will install Krateo with default configuration and a user-specified admin password:"}),(0,n.jsxs)(t.admonition,{type:"info",children:[(0,n.jsx)(t.p,{children:"Default values deploy Krateo exposing services via LoadBalancer:"}),(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"8080 - Krateo Frontend"}),"\n",(0,n.jsx)(t.li,{children:"8081 - BFF"}),"\n",(0,n.jsx)(t.li,{children:"8082 - AuthN"}),"\n"]})]}),(0,n.jsx)(t.p,{children:"At the end of this process:"}),(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"Find the Krateo Composable Portal hostname:"}),"\n"]}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-shell",children:"kubectl get svc krateo-frontend-x-krateo-system-x-vcluster-k8s -n krateo-system  -o=jsonpath='{.status.loadBalancer.ingress[0].hostname}'\n"})}),(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"The Krateo Composable Portal will be accessible at previous hostname at port 8080."}),"\n"]})]}),(0,n.jsxs)(o.c,{value:"<=1.28",label:"<=1.28",children:[(0,n.jsx)(t.p,{children:"Krateo PlatformOps can be exposed via LoadBalancer service type that exposes a hostname."}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-shell",children:"helm repo add krateo https://charts.krateo.io\nhelm repo update krateo\n\nhelm upgrade installer installer \\\n  --repo https://charts.krateo.io \\\n  --namespace krateo-system \\\n  --create-namespace \\\n  --set krateoplatformops.vcluster.enabled=true \\\n  --set krateoplatformops.service.type=LoadBalancer \\\n  --set krateoplatformops.service.externalIpAvailable=false \\\n  --install \\\n  --wait\n"})}),(0,n.jsx)(t.p,{children:"The following command will install Krateo with default configuration and a user-specified admin password:"}),(0,n.jsxs)(t.admonition,{type:"info",children:[(0,n.jsx)(t.p,{children:"Default values deploy Krateo exposing services via LoadBalancer:"}),(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"8080 - Krateo Frontend"}),"\n",(0,n.jsx)(t.li,{children:"8081 - BFF"}),"\n",(0,n.jsx)(t.li,{children:"8082 - AuthN"}),"\n"]})]}),(0,n.jsx)(t.p,{children:"At the end of this process:"}),(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"Find the Krateo Composable Portal hostname:"}),"\n"]}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-shell",children:"kubectl get svc krateo-frontend-x-krateo-system-x-vcluster-k8s -n krateo-system  -o=jsonpath='{.status.loadBalancer.ingress[0].hostname}'\n"})}),(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"The Krateo Composable Portal will be accessible at previous hostname at port 8080."}),"\n"]})]})]})})]}),"\n",(0,n.jsx)(t.admonition,{type:"info",children:(0,n.jsxs)(t.p,{children:["Krateo PlatformOps requires access to Kubernetes CertificateAuthority certificate and key in order to generate certificates for logged users.\nFor this reason we provide with the installer the option to leverage vCluster (",(0,n.jsx)(t.a,{href:"https://github.com/loft-sh/vcluster",children:"https://github.com/loft-sh/vcluster"}),") in order to provide a sandboxed installation of Krateo PlatformOps. This is mandatory in Elastic Kubernetes Service (EKS) where this feature is disabled by design."]})}),"\n",(0,n.jsx)(t.admonition,{type:"info",children:(0,n.jsxs)(t.p,{children:["The installer by default deploys a composable-portal-basic with examples to immediately start to play with Krateo PlatformOps. The chart is available here: ",(0,n.jsx)(t.a,{href:"https://github.com/krateoplatformops/composable-portal-basic",children:"https://github.com/krateoplatformops/composable-portal-basic"}),"."]})})]})}function p(e={}){const{wrapper:t}={...(0,r.M)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},5388:(e,t,a)=>{a.d(t,{c:()=>o});a(1504);var n=a(5456);const r={tabItem:"tabItem_Ymn6"};var s=a(7624);function o(e){let{children:t,hidden:a,className:o}=e;return(0,s.jsx)("div",{role:"tabpanel",className:(0,n.c)(r.tabItem,o),hidden:a,children:t})}},1268:(e,t,a)=>{a.d(t,{c:()=>y});var n=a(1504),r=a(5456),s=a(3943),o=a(5592),l=a(5288),i=a(632),c=a(7128),d=a(1148);function u(e){return n.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,n.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:t,children:a}=e;return(0,n.useMemo)((()=>{const e=t??function(e){return u(e).map((e=>{let{props:{value:t,label:a,attributes:n,default:r}}=e;return{value:t,label:a,attributes:n,default:r}}))}(a);return function(e){const t=(0,c.w)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,a])}function p(e){let{value:t,tabValues:a}=e;return a.some((e=>e.value===t))}function m(e){let{queryString:t=!1,groupId:a}=e;const r=(0,o.Uz)(),s=function(e){let{queryString:t=!1,groupId:a}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!a)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return a??null}({queryString:t,groupId:a});return[(0,i._M)(s),(0,n.useCallback)((e=>{if(!s)return;const t=new URLSearchParams(r.location.search);t.set(s,e),r.replace({...r.location,search:t.toString()})}),[s,r])]}function f(e){const{defaultValue:t,queryString:a=!1,groupId:r}=e,s=h(e),[o,i]=(0,n.useState)((()=>function(e){let{defaultValue:t,tabValues:a}=e;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!p({value:t,tabValues:a}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${a.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const n=a.find((e=>e.default))??a[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:s}))),[c,u]=m({queryString:a,groupId:r}),[f,x]=function(e){let{groupId:t}=e;const a=function(e){return e?`docusaurus.tab.${e}`:null}(t),[r,s]=(0,d.IN)(a);return[r,(0,n.useCallback)((e=>{a&&s.set(e)}),[a,s])]}({groupId:r}),b=(()=>{const e=c??f;return p({value:e,tabValues:s})?e:null})();(0,l.c)((()=>{b&&i(b)}),[b]);return{selectedValue:o,selectValue:(0,n.useCallback)((e=>{if(!p({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);i(e),u(e),x(e)}),[u,x,s]),tabValues:s}}var x=a(3664);const b={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var g=a(7624);function v(e){let{className:t,block:a,selectedValue:n,selectValue:o,tabValues:l}=e;const i=[],{blockElementScrollPositionUntilNextRender:c}=(0,s.MV)(),d=e=>{const t=e.currentTarget,a=i.indexOf(t),r=l[a].value;r!==n&&(c(t),o(r))},u=e=>{let t=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const a=i.indexOf(e.currentTarget)+1;t=i[a]??i[0];break}case"ArrowLeft":{const a=i.indexOf(e.currentTarget)-1;t=i[a]??i[i.length-1];break}}t?.focus()};return(0,g.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.c)("tabs",{"tabs--block":a},t),children:l.map((e=>{let{value:t,label:a,attributes:s}=e;return(0,g.jsx)("li",{role:"tab",tabIndex:n===t?0:-1,"aria-selected":n===t,ref:e=>i.push(e),onKeyDown:u,onClick:d,...s,className:(0,r.c)("tabs__item",b.tabItem,s?.className,{"tabs__item--active":n===t}),children:a??t},t)}))})}function j(e){let{lazy:t,children:a,selectedValue:r}=e;const s=(Array.isArray(a)?a:[a]).filter(Boolean);if(t){const e=s.find((e=>e.props.value===r));return e?(0,n.cloneElement)(e,{className:"margin-top--md"}):null}return(0,g.jsx)("div",{className:"margin-top--md",children:s.map(((e,t)=>(0,n.cloneElement)(e,{key:t,hidden:e.props.value!==r})))})}function k(e){const t=f(e);return(0,g.jsxs)("div",{className:(0,r.c)("tabs-container",b.tabList),children:[(0,g.jsx)(v,{...e,...t}),(0,g.jsx)(j,{...e,...t})]})}function y(e){const t=(0,x.c)();return(0,g.jsx)(k,{...e,children:u(e.children)},String(t))}},2172:(e,t,a)=>{a.d(t,{I:()=>l,M:()=>o});var n=a(1504);const r={},s=n.createContext(r);function o(e){const t=n.useContext(s);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),n.createElement(s.Provider,{value:t},e.children)}}}]);